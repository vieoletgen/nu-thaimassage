import{r as l,j as e,S as B,C as R,W as q,L as N,U,a as V,b as H,P as J,c as Q}from"./vendor-D2pEZwxl.js";import{i as $,g as X,a as Y,o as Z,q as ee,c as P,b as te,s as se,d as E,e as ae}from"./firebase-vendor-BvWKsK-c.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))h(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&h(p)}).observe(document,{childList:!0,subtree:!0});function x(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function h(a){if(a.ep)return;a.ep=!0;const r=x(a);fetch(a.href,r)}})();const ne={apiKey:"AIzaSyDohrXtG59JCgT-oEQJL4Bdshm-2C0qH5Y",authDomain:"wellness-2a55c.firebaseapp.com",projectId:"wellness-2a55c",storageBucket:"wellness-2a55c.firebasestorage.app",messagingSenderId:"894752905225",appId:"1:894752905225:web:53d3922981f37be76300d8",measurementId:"G-LN5BBWQQ0K"},O=$(ne),f=X(O),D=Y(O),L=typeof __app_id<"u"?__app_id:"nu-thaimassage-v1",re={de:{brand:"Nu Thaimassage",address:"FriesenstraÃŸe 61 Â· 50670 Cologne",phone:"0221 27098971",tagline:"Traditionelle Wellness in KÃ¶ln",steps:["Dauer","Personal","Termin","BestÃ¤tigung"],services:"Massage-Dauer wÃ¤hlen",therapists:"WÃ¤hlen Sie Ihren Therapeuten",dateTime:"Wunschtermin wÃ¤hlen",summary:"Buchungszusammenfassung",success:"Erfolgreich gebucht!",successMsg:"Vielen Dank! Wir freuen uns auf Ihren Besuch bei Nu Thaimassage.",next:"Weiter",back:"ZurÃ¼ck",confirm:"Jetzt buchen",bookAgain:"Neue Buchung",name:"VollstÃ¤ndiger Name",phoneLabel:"Telefonnummer",history:"Meine Termine",closed:"Sonntags Ruhetag",anyTherapist:"Wer gerade frei ist",expert:"Experte fÃ¼r",startFrom:"Preis",pending:"Wartend",completed:"Erledigt",aiConsultant:"KI-Berater âœ¨",aiConsultantDesc:"Haben Sie Beschwerden? Unsere KI berÃ¤t Sie.",aiGetAdvice:"KI-Rat âœ¨",aiAftercareBtn:"KI-Pflegetipps âœ¨",errorTitle:"Fehler",errorMsg:"Buchung fehlgeschlagen. Bitte prÃ¼fen Sie die Verbindung."},en:{brand:"Nu Thaimassage",address:"FriesenstraÃŸe 61 Â· 50670 Cologne",phone:"0221 27098971",tagline:"Traditional Wellness in Cologne",steps:["Duration","Staff","Schedule","Finish"],services:"Choose Duration",therapists:"Select Therapist",dateTime:"Pick your Time",summary:"Booking Details",success:"Booking Confirmed!",successMsg:"Thank you! We look forward to seeing you at Nu Thaimassage.",next:"Next",back:"Back",confirm:"Confirm Booking",bookAgain:"Book Another",name:"Full Name",phoneLabel:"Phone Number",history:"My Bookings",closed:"Sunday Closed",anyTherapist:"Anyone Available",expert:"Specialist in",startFrom:"Price",pending:"Pending",completed:"Done",aiConsultant:"AI Consultant âœ¨",aiConsultantDesc:"Tell us your pain, AI will suggest the best duration.",aiGetAdvice:"Get AI Advice âœ¨",aiAftercareBtn:"AI Aftercare âœ¨",errorTitle:"Error",errorMsg:"Booking failed. Please check your connection."}},j=[{id:"30m",de:"Thai-Ã–l-Massage (30 Min)",en:"Thai Oil Massage (30 Min)",price:25,icon:"ðŸ’†"},{id:"60m",de:"Thai-Ã–l-Massage (60 Min)",en:"Thai Oil Massage (60 Min)",price:45,icon:"ðŸ§˜"},{id:"90m",de:"Thai-Ã–l-Massage (90 Min)",en:"Thai Oil Massage (90 Min)",price:62,icon:"ðŸŒ¿"},{id:"120m",de:"Thai-Ã–l-Massage (120 Min)",en:"Thai Oil Massage (120 Min)",price:78,icon:"âœ¨"}],_=[{id:"t1",name:"Nok",de:"Thai-Expertin",en:"Thai Specialist",rating:4.9},{id:"t2",name:"Porn",de:"Aroma-Expertin",en:"Aroma Specialist",rating:4.8},{id:"any",name:"Any",de:"Wer verfÃ¼gbar ist",en:"Anyone available",rating:5}],ie=["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"],z=async(c,m)=>"Please set Gemini Key.";function le(){const[c,m]=l.useState("de"),[x,h]=l.useState(null),[a,r]=l.useState(1),[p,W]=l.useState([]),[k,w]=l.useState(!1),[v,u]=l.useState(null),[y,S]=l.useState(""),[A,C]=l.useState(""),[g,b]=l.useState(!1),[T,F]=l.useState(""),s=re[c],[n,d]=l.useState({serviceId:null,therapistId:null,date:new Date().toISOString().split("T")[0],time:"",customerName:"",customerPhone:""}),I=new Date(n.date).getDay()===0;l.useEffect(()=>{(async()=>{try{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await se(f,__initial_auth_token)}catch(i){console.warn("Custom token mismatch/error, falling back to anonymous auth:",i.message),await E(f)}else await E(f)}catch(i){console.error("Critical auth error:",i),u("Authentication failure. Please reload the page.")}})();const o=Z(f,h);return()=>o()},[]),l.useEffect(()=>{if(!x)return;const t=ee(P(D,"artifacts",L,"public","data","bookings")),o=te(t,i=>{const G=i.docs.map(M=>({id:M.id,...M.data()}));W(G),u(null)},i=>{console.error("Firestore Error:",i),i.code==="permission-denied"&&u("Firebase Permission Error: Please check your Security Rules in Firebase Console.")});return()=>o()},[x]);const K=async()=>{if(!x)return;u(null),w(!0);const t=j.find(i=>i.id===n.serviceId),o=_.find(i=>i.id===n.therapistId);try{await ae(P(D,"artifacts",L,"public","data","bookings"),{...n,serviceName:t[c],therapistName:o.id==="any"?s.anyTherapist:o.name,status:"pending",createdAt:new Date().toISOString(),userId:x.uid}),r(5)}catch(i){console.error(i),u(s.errorMsg)}finally{w(!1)}};return e.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-900 font-sans selection:bg-teal-100 pb-10",children:[e.jsx("nav",{className:"bg-white border-b sticky top-0 z-50 px-6 py-4 shadow-sm",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-teal-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-teal-100 animate-pulse",children:e.jsx(B,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black uppercase tracking-tighter leading-none",children:s.brand}),e.jsx("p",{className:"text-[10px] font-black text-teal-600 tracking-[0.3em] uppercase mt-1",children:s.tagline})]})]}),e.jsx("button",{onClick:()=>m(c==="de"?"en":"de"),className:"bg-slate-100 px-4 py-2 rounded-xl text-xs font-black border uppercase tracking-widest hover:bg-slate-200 transition-all",children:c==="de"?"EN":"DE"})]})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[v&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-100 text-red-600 rounded-3xl flex items-center gap-3 animate-in fade-in slide-in-from-top-4",children:[e.jsx(R,{size:20}),e.jsx("p",{className:"text-xs font-bold leading-tight",children:v})]}),e.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl shadow-slate-200 border border-slate-100 overflow-hidden min-h-[600px] flex flex-col",children:[a<5&&e.jsx("div",{className:"flex bg-slate-50 border-b",children:s.steps.map((t,o)=>e.jsxs("div",{className:`flex-1 py-4 text-center text-[10px] font-black uppercase tracking-tighter border-r last:border-0 ${a===o+1?"bg-white text-teal-600":"text-slate-400"}`,children:[o+1,". ",t]},o))}),e.jsxs("div",{className:"p-8 md:p-14 flex-1",children:[a===1&&e.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(t=>e.jsxs("button",{onClick:()=>{d({...n,serviceId:t.id}),r(2)},className:"group p-6 rounded-[2.5rem] border-2 border-slate-100 hover:border-teal-500 hover:bg-teal-50 transition-all text-left bg-white shadow-sm hover:shadow-xl",children:[e.jsx("span",{className:"text-5xl mb-6 block group-hover:scale-110 transition-transform",children:t.icon}),e.jsx("p",{className:"font-black text-slate-800 text-lg",children:t[c]}),e.jsxs("p",{className:"text-teal-600 font-black text-2xl mt-2",children:[t.price," â‚¬"]})]},t.id))}),e.jsx("div",{className:"bg-slate-900 rounded-[3rem] p-8 text-white shadow-2xl relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(q,{className:"text-teal-400"}),e.jsx("h3",{className:"font-black text-sm uppercase tracking-widest",children:s.aiConsultant})]}),e.jsx("p",{className:"text-xs text-slate-400 mb-6 leading-relaxed",children:s.aiConsultantDesc}),e.jsx("textarea",{className:"w-full bg-slate-800 rounded-2xl p-5 text-sm border-none focus:ring-2 focus:ring-teal-500 outline-none mb-4 text-white placeholder-slate-500",rows:"2",value:T,onChange:t=>F(t.target.value),placeholder:"e.g. Back pain from office work..."}),e.jsx("button",{onClick:()=>{b(!0),z().then(S).finally(()=>b(!1))},disabled:g||!T.trim(),className:"w-full bg-teal-500 text-slate-900 py-4 rounded-2xl font-black text-xs uppercase hover:bg-teal-400 transition-colors disabled:opacity-50",children:g?e.jsx(N,{className:"animate-spin mx-auto"}):s.aiGetAdvice}),y&&e.jsx("div",{className:"mt-6 p-5 bg-slate-800 rounded-2xl text-xs text-slate-300 leading-relaxed border-l-4 border-teal-500 animate-in slide-in-from-top-2",children:y})]})})]}),a===2&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-8 duration-500",children:[e.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:s.therapists}),e.jsx("div",{className:"grid gap-4",children:_.map(t=>e.jsxs("button",{onClick:()=>{d({...n,therapistId:t.id}),r(3)},className:"p-6 rounded-[2rem] border-2 border-slate-100 hover:border-teal-500 bg-white flex justify-between items-center transition-all group shadow-sm hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-14 h-14 bg-slate-100 rounded-2xl flex items-center justify-center text-slate-400 group-hover:bg-teal-100 group-hover:text-teal-600 transition-colors",children:e.jsx(U,{size:28})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-black text-slate-800 text-lg",children:t.id==="any"?s.anyTherapist:t.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest",children:[s.expert,": ",t[c]]})]})]}),e.jsxs("span",{className:"text-yellow-500 font-black text-lg",children:["â˜… ",t.rating]})]},t.id))}),e.jsxs("button",{onClick:()=>r(1),className:"text-slate-400 font-black uppercase text-xs tracking-[0.2em] mt-6 flex items-center gap-2 hover:text-teal-600",children:[e.jsx(V,{size:16})," ",s.back]})]}),a===3&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-8 duration-500",children:[e.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:s.dateTime}),e.jsx("input",{type:"date",value:n.date,min:new Date().toISOString().split("T")[0],onChange:t=>d({...n,date:t.target.value}),className:"w-full p-6 rounded-3xl border-4 border-slate-50 focus:border-teal-500 outline-none text-xl font-black bg-slate-50"}),I?e.jsx("div",{className:"p-20 text-center bg-red-50 rounded-[3rem] border-4 border-dashed border-red-100 text-red-600 font-black uppercase tracking-widest animate-in zoom-in",children:s.closed}):e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-3",children:ie.map(t=>e.jsx("button",{onClick:()=>d({...n,time:t}),className:`p-5 rounded-2xl border-2 font-black text-sm transition-all shadow-sm ${n.time===t?"bg-teal-600 text-white border-teal-600 scale-105 shadow-xl shadow-teal-100":"bg-white border-slate-100 hover:bg-slate-50 text-slate-600"}`,children:t},t))}),e.jsxs("div",{className:"flex gap-4 pt-8",children:[e.jsx("button",{onClick:()=>r(2),className:"flex-1 p-6 border-2 rounded-[2rem] font-black text-slate-400 uppercase tracking-widest",children:s.back}),e.jsx("button",{onClick:()=>r(4),disabled:!n.time||I,className:"flex-1 p-6 bg-teal-600 text-white rounded-[2rem] font-black uppercase tracking-widest shadow-2xl shadow-teal-200 disabled:bg-slate-200 disabled:shadow-none transition-all",children:s.next})]})]}),a===4&&e.jsxs("div",{className:"space-y-10 animate-in slide-in-from-right-8 duration-500",children:[e.jsxs("div",{className:"bg-slate-50 p-10 rounded-[3rem] border border-slate-100 space-y-5 shadow-inner",children:[e.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] mb-4",children:s.summary}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Service"}),e.jsx("span",{className:"font-black text-xl text-slate-800",children:j.find(t=>t.id===n.serviceId)?.[c]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Time"}),e.jsxs("span",{className:"font-black text-xl text-teal-600",children:[n.date," @ ",n.time]})]}),e.jsxs("div",{className:"pt-5 border-t border-slate-200 flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-800 font-black",children:"Total Amount"}),e.jsxs("span",{className:"text-3xl font-black text-slate-900",children:[j.find(t=>t.id===n.serviceId)?.price," â‚¬"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{placeholder:s.name,className:"w-full p-6 border-2 rounded-3xl focus:border-teal-500 outline-none font-black text-lg bg-white shadow-sm",value:n.customerName,onChange:t=>d({...n,customerName:t.target.value})}),e.jsx("input",{placeholder:s.phoneLabel,className:"w-full p-6 border-2 rounded-3xl focus:border-teal-500 outline-none font-black text-lg bg-white shadow-sm",value:n.customerPhone,onChange:t=>d({...n,customerPhone:t.target.value})})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx("button",{onClick:()=>r(3),className:"flex-1 p-6 border-2 rounded-[2rem] font-black text-slate-400 uppercase tracking-widest",children:s.back}),e.jsx("button",{onClick:K,disabled:!n.customerName||!n.customerPhone||k,className:"flex-1 p-5 bg-teal-600 text-white rounded-[2rem] font-black uppercase tracking-widest shadow-2xl shadow-teal-200 disabled:bg-slate-200",children:k?e.jsx(N,{className:"animate-spin mx-auto"}):s.confirm})]})]}),a===5&&e.jsxs("div",{className:"text-center py-10 animate-in zoom-in duration-700",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-8 text-green-600 shadow-2xl shadow-green-100 animate-bounce",children:e.jsx(H,{size:72})}),e.jsx("h2",{className:"text-4xl font-black text-slate-900 mb-4 tracking-tighter",children:s.success}),e.jsx("p",{className:"text-slate-500 mb-12 max-w-sm mx-auto leading-relaxed font-medium",children:s.successMsg}),e.jsx("div",{className:"bg-slate-50 rounded-[3rem] p-10 border border-slate-200 text-left mb-12 shadow-inner",children:A?e.jsxs("div",{className:"animate-in slide-in-from-bottom-4",children:[e.jsx("h4",{className:"font-black text-[10px] uppercase tracking-[0.3em] text-slate-400 mb-4",children:"Personal Aftercare Advice"}),e.jsx("div",{className:"text-sm text-slate-600 leading-relaxed whitespace-pre-wrap bg-white p-6 rounded-3xl border border-teal-50 shadow-sm",children:A})]}):e.jsxs("button",{onClick:()=>{b(!0),z().then(C).finally(()=>b(!1))},disabled:g,className:"w-full bg-white border-2 border-teal-100 py-5 rounded-3xl text-xs font-black text-teal-700 uppercase flex items-center justify-center gap-3 hover:bg-teal-50 transition-all shadow-md",children:[g?e.jsx(N,{className:"animate-spin"}):e.jsx(B,{size:20})," ",s.aiAftercareBtn]})}),e.jsx("button",{onClick:()=>{r(1),S(""),C(""),u(null),d({serviceId:null,therapistId:null,date:new Date().toISOString().split("T")[0],time:"",customerName:"",customerPhone:""})},className:"w-full p-6 bg-slate-900 text-white rounded-[2.5rem] font-black uppercase tracking-[0.2em] hover:bg-black transition-all shadow-2xl shadow-slate-300",children:s.bookAgain})]})]})]}),e.jsxs("footer",{className:"mt-16 text-center space-y-4 px-6",children:[e.jsx("p",{className:"text-[11px] text-slate-400 font-black uppercase tracking-[0.4em] leading-loose",children:s.address}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-teal-600 font-black tracking-[0.2em] text-sm",children:[e.jsx(J,{size:16})," ",s.phone]})]})]})]})}Q.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(le,{})}));
