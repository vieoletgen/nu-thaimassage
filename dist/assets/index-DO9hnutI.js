(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ed={exports:{}},cl={};var v_;function fS(){if(v_)return cl;v_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var E_;function dS(){return E_||(E_=1,Ed.exports=fS()),Ed.exports}var nt=dS(),Td={exports:{}},vt={};var T_;function mS(){if(T_)return vt;T_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function K(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function ft(V,Q,W){this.props=V,this.context=Q,this.refs=tt,this.updater=W||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},ft.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function it(){}it.prototype=ft.prototype;function ot(V,Q,W){this.props=V,this.context=Q,this.refs=tt,this.updater=W||Z}var wt=ot.prototype=new it;wt.constructor=ot,et(wt,ft.prototype),wt.isPureReactComponent=!0;var te=Array.isArray;function xt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(V,Q,W){var st=W.ref;return{$$typeof:s,type:V,key:Q,ref:st!==void 0?st:null,props:W}}function I(V,Q){return C(V.type,Q,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function M(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(W){return Q[W]})}var w=/\/+/g;function Zt(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):Q.toString(36)}function Ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(xt,xt):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function H(V,Q,W,st,yt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Ut=!1;if(V===null)Ut=!0;else switch(St){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(V.$$typeof){case s:case t:Ut=!0;break;case A:return Ut=V._init,H(Ut(V._payload),Q,W,st,yt)}}if(Ut)return yt=yt(V),Ut=st===""?"."+Zt(V,0):st,te(yt)?(W="",Ut!=null&&(W=Ut.replace(w,"$&/")+"/"),H(yt,Q,W,"",function(Wr){return Wr})):yt!=null&&(N(yt)&&(yt=I(yt,W+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Ut)),Q.push(yt)),1;Ut=0;var Ce=st===""?".":st+":";if(te(V))for(var re=0;re<V.length;re++)st=V[re],St=Ce+Zt(st,re),Ut+=H(st,Q,W,St,yt);else if(re=K(V),typeof re=="function")for(V=re.call(V),re=0;!(st=V.next()).done;)st=st.value,St=Ce+Zt(st,re++),Ut+=H(st,Q,W,St,yt);else if(St==="object"){if(typeof V.then=="function")return H(Ie(V),Q,W,st,yt);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function $(V,Q,W){if(V==null)return V;var st=[],yt=0;return H(V,st,"","",function(St){return Q.call(W,St,yt++)}),st}function dt(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(W){(V._status===0||V._status===-1)&&(V._status=1,V._result=W)},function(W){(V._status===0||V._status===-1)&&(V._status=2,V._result=W)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var kt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:$,forEach:function(V,Q,W){$(V,function(){Q.apply(this,arguments)},W)},count:function(V){var Q=0;return $(V,function(){Q++}),Q},toArray:function(V){return $(V,function(Q){return Q})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=b,vt.Children=Ht,vt.Component=ft,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ot,vt.StrictMode=a,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,Q,W){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=et({},V.props),yt=V.key;if(Q!=null)for(St in Q.key!==void 0&&(yt=""+Q.key),Q)!S.call(Q,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Q.ref===void 0||(st[St]=Q[St]);var St=arguments.length-2;if(St===1)st.children=W;else if(1<St){for(var Ut=Array(St),Ce=0;Ce<St;Ce++)Ut[Ce]=arguments[Ce+2];st.children=Ut}return C(V.type,yt,st)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},vt.createElement=function(V,Q,W){var st,yt={},St=null;if(Q!=null)for(st in Q.key!==void 0&&(St=""+Q.key),Q)S.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Q[st]);var Ut=arguments.length-2;if(Ut===1)yt.children=W;else if(1<Ut){for(var Ce=Array(Ut),re=0;re<Ut;re++)Ce[re]=arguments[re+2];yt.children=Ce}if(V&&V.defaultProps)for(st in Ut=V.defaultProps,Ut)yt[st]===void 0&&(yt[st]=Ut[st]);return C(V,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:p,render:V}},vt.isValidElement=N,vt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:dt}},vt.memo=function(V,Q){return{$$typeof:_,type:V,compare:Q===void 0?null:Q}},vt.startTransition=function(V){var Q=D.T,W={};D.T=W;try{var st=V(),yt=D.S;yt!==null&&yt(W,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(xt,kt)}catch(St){kt(St)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),D.T=Q}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(V){return D.H.use(V)},vt.useActionState=function(V,Q,W){return D.H.useActionState(V,Q,W)},vt.useCallback=function(V,Q){return D.H.useCallback(V,Q)},vt.useContext=function(V){return D.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,Q){return D.H.useDeferredValue(V,Q)},vt.useEffect=function(V,Q){return D.H.useEffect(V,Q)},vt.useEffectEvent=function(V){return D.H.useEffectEvent(V)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(V,Q,W){return D.H.useImperativeHandle(V,Q,W)},vt.useInsertionEffect=function(V,Q){return D.H.useInsertionEffect(V,Q)},vt.useLayoutEffect=function(V,Q){return D.H.useLayoutEffect(V,Q)},vt.useMemo=function(V,Q){return D.H.useMemo(V,Q)},vt.useOptimistic=function(V,Q){return D.H.useOptimistic(V,Q)},vt.useReducer=function(V,Q,W){return D.H.useReducer(V,Q,W)},vt.useRef=function(V){return D.H.useRef(V)},vt.useState=function(V){return D.H.useState(V)},vt.useSyncExternalStore=function(V,Q,W){return D.H.useSyncExternalStore(V,Q,W)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.2.4",vt}var A_;function hm(){return A_||(A_=1,Td.exports=mS()),Td.exports}var Le=hm(),Ad={exports:{}},hl={},Sd={exports:{}},bd={};var S_;function gS(){return S_||(S_=1,(function(s){function t(H,$){var dt=H.length;H.push($);t:for(;0<dt;){var kt=dt-1>>>1,Ht=H[kt];if(0<l(Ht,$))H[kt]=$,H[dt]=Ht,dt=kt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var $=H[0],dt=H.pop();if(dt!==$){H[0]=dt;t:for(var kt=0,Ht=H.length,V=Ht>>>1;kt<V;){var Q=2*(kt+1)-1,W=H[Q],st=Q+1,yt=H[st];if(0>l(W,dt))st<Ht&&0>l(yt,W)?(H[kt]=yt,H[st]=dt,kt=st):(H[kt]=W,H[Q]=dt,kt=Q);else if(st<Ht&&0>l(yt,dt))H[kt]=yt,H[st]=dt,kt=st;else break t}}return $}function l(H,$){var dt=H.sortIndex-$.sortIndex;return dt!==0?dt:H.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,b=null,x=3,K=!1,Z=!1,et=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function wt(H){for(var $=i(_);$!==null;){if($.callback===null)a(_);else if($.startTime<=H)a(_),$.sortIndex=$.expirationTime,t(v,$);else break;$=i(_)}}function te(H){if(et=!1,wt(H),!Z)if(i(v)!==null)Z=!0,xt||(xt=!0,M());else{var $=i(_);$!==null&&Ie(te,$.startTime-H)}}var xt=!1,D=-1,S=5,C=-1;function I(){return tt?!0:!(s.unstable_now()-C<S)}function N(){if(tt=!1,xt){var H=s.unstable_now();C=H;var $=!0;try{t:{Z=!1,et&&(et=!1,it(D),D=-1),K=!0;var dt=x;try{e:{for(wt(H),b=i(v);b!==null&&!(b.expirationTime>H&&I());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,x=b.priorityLevel;var Ht=kt(b.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){b.callback=Ht,wt(H),$=!0;break e}b===i(v)&&a(v),wt(H)}else a(v);b=i(v)}if(b!==null)$=!0;else{var V=i(_);V!==null&&Ie(te,V.startTime-H),$=!1}}break t}finally{b=null,x=dt,K=!1}$=void 0}}finally{$?M():xt=!1}}}var M;if(typeof ot=="function")M=function(){ot(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Zt=w.port2;w.port1.onmessage=N,M=function(){Zt.postMessage(null)}}else M=function(){ft(N,0)};function Ie(H,$){D=ft(function(){H(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var dt=x;x=$;try{return H()}finally{x=dt}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var dt=x;x=H;try{return $()}finally{x=dt}},s.unstable_scheduleCallback=function(H,$,dt){var kt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=dt+Ht,H={id:A++,callback:$,priorityLevel:H,startTime:dt,expirationTime:Ht,sortIndex:-1},dt>kt?(H.sortIndex=dt,t(_,H),i(v)===null&&H===i(_)&&(et?(it(D),D=-1):et=!0,Ie(te,dt-kt))):(H.sortIndex=Ht,t(v,H),Z||K||(Z=!0,xt||(xt=!0,M()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var $=x;return function(){var dt=x;x=$;try{return H.apply(this,arguments)}finally{x=dt}}}})(bd)),bd}var b_;function pS(){return b_||(b_=1,Sd.exports=gS()),Sd.exports}var wd={exports:{}},Ke={};var w_;function yS(){if(w_)return Ke;w_=1;var s=hm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(v,_,null,A)},Ke.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Ke.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ke.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ke.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:K}):A==="script"&&a.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ke.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ke.requestFormReset=function(v){a.d.r(v)},Ke.unstable_batchedUpdates=function(v,_){return v(_)},Ke.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.4",Ke}var R_;function _S(){if(R_)return wd.exports;R_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),wd.exports=yS(),wd.exports}var I_;function vS(){if(I_)return hl;I_=1;var s=pS(),t=hm(),i=_S();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case te:return"Suspense";case xt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ot:return e.displayName||"Context";case it:return(e._context.displayName||"Context")+".Consumer";case wt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var Ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function V(e){return{current:e}}function Q(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function W(e,n){Ht++,kt[Ht]=e.current,e.current=n}var st=V(null),yt=V(null),St=V(null),Ut=V(null);function Ce(e,n){switch(W(St,n),W(yt,e),W(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=qy(n),e=Hy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),W(st,e)}function re(){Q(st),Q(yt),Q(St)}function Wr(e){e.memoizedState!==null&&W(Ut,e);var n=st.current,r=Hy(n,e.type);n!==r&&(W(yt,e),W(st,r))}function Gs(e){yt.current===e&&(Q(st),Q(yt)),Ut.current===e&&(Q(Ut),al._currentValue=dt)}var Fs,Qs;function $n(e){if(Fs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fs=n&&n[1]||"",Qs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+e+Qs}var so=!1;function ts(e,n){if(!e||so)return"";so=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var z=j}Reflect.construct(e,[],F)}else{try{F.call()}catch(j){z=j}e.call(F.prototype)}}else{try{throw Error()}catch(j){z=j}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var q=`
`+R[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{so=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?$n(r):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return $n("Activity");default:return""}}function oo(e){try{var n="",r=null;do n+=ao(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,er=s.unstable_cancelCallback,Th=s.unstable_shouldYield,Hl=s.unstable_requestPaint,$e=s.unstable_now,es=s.unstable_getCurrentPriorityLevel,lo=s.unstable_ImmediatePriority,uo=s.unstable_UserBlockingPriority,nr=s.unstable_NormalPriority,Ah=s.unstable_LowPriority,Gl=s.unstable_IdlePriority,Fl=s.log,Ql=s.unstable_setDisableYieldValue,Un=null,Pe=null;function En(e){if(typeof Fl=="function"&&Ql(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var ce=Math.clz32?Math.clz32:Yl,Kl=Math.log,Ks=Math.LN2;function Yl(e){return e>>>=0,e===0?32:31-(Kl(e)/Ks|0)|0}var Wn=256,ns=262144,pe=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):r||(r=E&~e,r!==0&&(h=ti(r))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):r||(r=o&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function is(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var q=31-ce(r),F=1<<q;E[q]=0,R[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}r&=~F}o!==0&&rs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function ho(e,n){var r=n&-n;return r=(r&42)!==0?1:ss(r),(r&(e.suspendedLanes|n))!==0?0:r}function ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jl(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:f_(e.type))}function kn(e,n){var r=$.p;try{return $.p=e,n()}finally{$.p=r}}var Pn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Pn,Me="__reactProps$"+Pn,ii="__reactContainer$"+Pn,Ys="__reactEvents$"+Pn,wh="__reactListeners$"+Pn,Zl="__reactHandles$"+Pn,$l="__reactResources$"+Pn,ri="__reactMarker$"+Pn;function Xs(e){delete e[ye],delete e[Me],delete e[Ys],delete e[wh],delete e[Zl]}function si(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Jy(e);e!==null;){if(r=e[ye])return r;e=Jy(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[ye]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[$l];return n||(n=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ri]=!0}var fo=new Set,mo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function Wl(e){return ge.call(yo,e)?!0:ge.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function Js(e,n,r){if(Wl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function fn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ir(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ir(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function as(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ir(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var os=/[\n"\\]/g;function en(e){return e.replace(os,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,xe(n)):r!=null?vo(e,g,xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function tu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function vo(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function eu(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||nu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function To(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function $s(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(e){return ar.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Ao=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,ci=null;function ls(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));Zs(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&as(o)}break t;case"textarea":eu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&rr(e,!!r.multiple,n,!1)}}}var ta=!1;function lr(e,n,r){if(ta)return e(n,r);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(or!==null||ci!==null)&&(Ju(),or&&(n=or,e=ci,ci=or=null,ls(n),e)))for(n=0;n<e.length;n++)ls(e[n])}}function Bn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Sn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){us=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{us=!1}var hi=null,So=null,cs=null;function bo(){if(cs)return cs;var e,n=So,r=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return cs=h.slice(e,1<o?1-o:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function jn(){return!1}function ze(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:jn,this.isPropagationStopped=jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Di),ur=b({},Di,{view:0,detail:0}),wo=ze(ur),cr,ea,di,na=b({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(cr=e.screenX-di.screenX,ea=e.screenY-di.screenY):ea=cr=0,di=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Ro=ze(na),fs=b({},na,{dataTransfer:0}),ru=ze(fs),su=b({},ur,{relatedTarget:0}),ds=ze(su),Io=b({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),au=ze(Io),ia=b({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=ze(ia),lu=b({},Di,{data:0}),mi=ze(lu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function hr(){return fu}var We=b({},ur,{key:function(e){if(e.key){var n=uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),du=ze(We),mu=b({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=ze(mu),u=b({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),m=ze(u),y=b({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(y),L=b({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),J=b({},Di,{newState:0,oldState:0}),Tt=ze(J),he=[9,13,27,32],Bt=Sn&&"CompositionEvent"in window,se=null;Sn&&"documentMode"in document&&(se=document.documentMode);var bn=Sn&&"TextEvent"in window&&!se,gi=Sn&&(!Bt||se&&8<se&&11>=se),qn=" ",Hn=!1;function ms(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function L0(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function k0(e,n){if(sa)return e==="compositionend"||!Bt&&ms(e,n)?(e=bo(),cs=So=hi=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!P0[e.type]:n==="textarea"}function tg(e,n,r,o){or?ci?ci.push(o):ci=[o]:or=o,n=ic(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Co=null,Do=null;function z0(e){Ly(e,0)}function gu(e){var n=hn(e);if(as(n))return e}function eg(e,n){if(e==="change")return n}var ng=!1;if(Sn){var Rh;if(Sn){var Ih="oninput"in document;if(!Ih){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Ih=typeof ig.oninput=="function"}Rh=Ih}else Rh=!1;ng=Rh&&(!document.documentMode||9<document.documentMode)}function rg(){Co&&(Co.detachEvent("onpropertychange",sg),Do=Co=null)}function sg(e){if(e.propertyName==="value"&&gu(Do)){var n=[];tg(n,Do,e,An(e)),lr(z0,n)}}function B0(e,n,r){e==="focusin"?(rg(),Co=n,Do=r,Co.attachEvent("onpropertychange",sg)):e==="focusout"&&rg()}function j0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(Do)}function q0(e,n){if(e==="click")return gu(n)}function H0(e,n){if(e==="input"||e==="change")return gu(n)}function G0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:G0;function No(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ge.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,n){var r=ag(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ag(r)}}function lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var F0=Sn&&"documentMode"in document&&11>=document.documentMode,aa=null,Dh=null,Oo=null,Nh=!1;function cg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||aa==null||aa!==ui(o)||(o=aa,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&No(Oo,o)||(Oo=o,o=ic(Dh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=aa)))}function gs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var oa={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Oh={},hg={};Sn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ps(e){if(Oh[e])return Oh[e];if(!oa[e])return e;var n=oa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in hg)return Oh[e]=n[r];return e}var fg=ps("animationend"),dg=ps("animationiteration"),mg=ps("animationstart"),Q0=ps("transitionrun"),K0=ps("transitionstart"),Y0=ps("transitioncancel"),gg=ps("transitionend"),pg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Gn(e,n){pg.set(e,n),oi(n,[e])}var pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],la=0,Mh=0;function yu(){for(var e=la,n=Mh=la=0;n<e;){var r=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&yg(r,h,f)}}function _u(e,n,r,o){wn[la++]=e,wn[la++]=n,wn[la++]=r,wn[la++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,r,o){return _u(e,n,r,o),vu(e)}function ys(e,n){return _u(e,null,null,n),vu(e)}function yg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function vu(e){if(50<Wo)throw Wo=0,Gf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function X0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,r,o){return new X0(e,n,r,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var r=e.alternate;return r===null?(r=mn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function _g(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Uh(e)&&(g=1);else if(typeof e=="string")g=tS(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=mn(31,r,n,h),e.elementType=C,e.lanes=f,e;case et:return _s(r.children,h,f,n);case tt:g=8,h|=24;break;case ft:return e=mn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case te:return e=mn(13,r,n,h),e.elementType=te,e.lanes=f,e;case xt:return e=mn(19,r,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:g=10;break t;case it:g=9;break t;case wt:g=11;break t;case D:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function _s(e,n,r,o){return e=mn(7,e,o,n),e.lanes=r,e}function Lh(e,n,r){return e=mn(6,e,null,n),e.lanes=r,e}function vg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function kh(e,n,r){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Eg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var r=Eg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:oo(n)},Eg.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ca=[],ha=0,Tu=null,Vo=0,In=[],Cn=0,fr=null,pi=1,yi="";function Vi(e,n){ca[ha++]=Vo,ca[ha++]=Tu,Tu=e,Vo=n}function Tg(e,n,r){In[Cn++]=pi,In[Cn++]=yi,In[Cn++]=fr,fr=e;var o=pi;e=yi;var h=32-ce(o)-1;o&=~(1<<h),r+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-ce(n)+h|r<<h|o,yi=f+e}else pi=1<<f|r<<h|o,yi=e}function Ph(e){e.return!==null&&(Vi(e,1),Tg(e,1,0))}function zh(e){for(;e===Tu;)Tu=ca[--ha],ca[ha]=null,Vo=ca[--ha],ca[ha]=null;for(;e===fr;)fr=In[--Cn],In[Cn]=null,yi=In[--Cn],In[Cn]=null,pi=In[--Cn],In[Cn]=null}function Ag(e,n){In[Cn++]=pi,In[Cn++]=yi,In[Cn++]=fr,pi=n.id,yi=n.overflow,fr=e}var Be=null,ee=null,Mt=!1,dr=null,Dn=!1,Bh=Error(a(519));function mr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Rn(n,e)),Bh}function Sg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<el.length;r++)It(el[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||By(n.textContent,r)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||mr(e,!0)}function bg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function fa(e){if(e!==Be)return!1;if(!Mt)return bg(e),Mt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||sd(e.type,e.memoizedProps)),r=!r),r&&ee&&mr(e),bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=Xy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=Xy(e)}else n===27?(n=ee,Cr(e.type)?(e=cd,cd=null,ee=e):ee=n):ee=Be?On(e.stateNode.nextSibling):null;return!0}function vs(){ee=Be=null,Mt=!1}function jh(){var e=dr;return e!==null&&(on===null?on=e:on.push.apply(on,e),dr=null),e}function Mo(e){dr===null?dr=[e]:dr.push(e)}var qh=V(null),Es=null,Mi=null;function gr(e,n,r){W(qh,n._currentValue),n._currentValue=r}function xi(e){e._currentValue=qh.current,Q(qh)}function Hh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Gh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Hh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Hh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function da(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Gh(n,e,r,o),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){Es=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return wg(Es,e)}function Su(e,n){return Es===null&&Ts(e),wg(e,n)}function wg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Mi===null){if(e===null)throw Error(a(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return r}var J0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Z0=s.unstable_scheduleCallback,$0=s.unstable_NormalPriority,Ee={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new J0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&Z0($0,function(){e.controller.abort()})}var Uo=null,Qh=0,ma=0,ga=null;function W0(e,n){if(Uo===null){var r=Uo=[];Qh=0,ma=Jf(),ga={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Qh++,n.then(Rg,Rg),n}function Rg(){if(--Qh===0&&Uo!==null){ga!==null&&(ga.status="fulfilled");var e=Uo;Uo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function tA(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Ig=H.S;H.S=function(e,n){cy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&W0(e,n),Ig!==null&&Ig(e,n)};var As=V(null);function Kh(){var e=As.current;return e!==null?e:$t.pooledCache}function bu(e,n){n===null?W(As,As.current):W(As,n.pool)}function Cg(){var e=Kh();return e===null?null:{parent:Ee._currentValue,pool:e}}var pa=Error(a(460)),Yh=Error(a(474)),wu=Error(a(542)),Ru={then:function(){}};function Dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ng(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vg(e),e}throw bs=n,pa}}function Ss(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(bs=r,pa):r}}var bs=null;function Og(){if(bs===null)throw Error(a(459));var e=bs;return bs=null,e}function Vg(e){if(e===pa||e===wu)throw Error(a(483))}var ya=null,Lo=0;function Iu(e){var n=Lo;return Lo+=1,ya===null&&(ya=[]),Ng(ya,e,n)}function ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mg(e){function n(U,O){if(e){var k=U.deletions;k===null?(U.deletions=[O],U.flags|=16):k.push(O)}}function r(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Oi(U,O),U.index=0,U.sibling=null,U}function f(U,O,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<O?(U.flags|=67108866,O):k):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,k,G){return O===null||O.tag!==6?(O=Lh(k,U.mode,G),O.return=U,O):(O=h(O,k),O.return=U,O)}function R(U,O,k,G){var ct=k.type;return ct===et?q(U,O,k.props.children,G,k.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Ss(ct)===O.type)?(O=h(O,k.props),ko(O,k),O.return=U,O):(O=Eu(k.type,k.key,k.props,null,U.mode,G),ko(O,k),O.return=U,O)}function P(U,O,k,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=kh(k,U.mode,G),O.return=U,O):(O=h(O,k.children||[]),O.return=U,O)}function q(U,O,k,G,ct){return O===null||O.tag!==7?(O=_s(k,U.mode,G,ct),O.return=U,O):(O=h(O,k),O.return=U,O)}function F(U,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Lh(""+O,U.mode,k),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return k=Eu(O.type,O.key,O.props,null,U.mode,k),ko(k,O),k.return=U,k;case Z:return O=kh(O,U.mode,k),O.return=U,O;case S:return O=Ss(O),F(U,O,k)}if(Ie(O)||M(O))return O=_s(O,U.mode,k,null),O.return=U,O;if(typeof O.then=="function")return F(U,Iu(O),k);if(O.$$typeof===ot)return F(U,Su(U,O),k);Cu(U,O)}return null}function z(U,O,k,G){var ct=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:E(U,O,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return k.key===ct?R(U,O,k,G):null;case Z:return k.key===ct?P(U,O,k,G):null;case S:return k=Ss(k),z(U,O,k,G)}if(Ie(k)||M(k))return ct!==null?null:q(U,O,k,G,null);if(typeof k.then=="function")return z(U,O,Iu(k),G);if(k.$$typeof===ot)return z(U,O,Su(U,k),G);Cu(U,k)}return null}function j(U,O,k,G,ct){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(k)||null,E(O,U,""+G,ct);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return U=U.get(G.key===null?k:G.key)||null,R(O,U,G,ct);case Z:return U=U.get(G.key===null?k:G.key)||null,P(O,U,G,ct);case S:return G=Ss(G),j(U,O,k,G,ct)}if(Ie(G)||M(G))return U=U.get(k)||null,q(O,U,G,ct,null);if(typeof G.then=="function")return j(U,O,k,Iu(G),ct);if(G.$$typeof===ot)return j(U,O,k,Su(O,G),ct);Cu(O,G)}return null}function lt(U,O,k,G){for(var ct=null,Pt=null,ut=O,bt=O=0,Dt=null;ut!==null&&bt<k.length;bt++){ut.index>bt?(Dt=ut,ut=null):Dt=ut.sibling;var zt=z(U,ut,k[bt],G);if(zt===null){ut===null&&(ut=Dt);break}e&&ut&&zt.alternate===null&&n(U,ut),O=f(zt,O,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt,ut=Dt}if(bt===k.length)return r(U,ut),Mt&&Vi(U,bt),ct;if(ut===null){for(;bt<k.length;bt++)ut=F(U,k[bt],G),ut!==null&&(O=f(ut,O,bt),Pt===null?ct=ut:Pt.sibling=ut,Pt=ut);return Mt&&Vi(U,bt),ct}for(ut=o(ut);bt<k.length;bt++)Dt=j(ut,U,bt,k[bt],G),Dt!==null&&(e&&Dt.alternate!==null&&ut.delete(Dt.key===null?bt:Dt.key),O=f(Dt,O,bt),Pt===null?ct=Dt:Pt.sibling=Dt,Pt=Dt);return e&&ut.forEach(function(Mr){return n(U,Mr)}),Mt&&Vi(U,bt),ct}function mt(U,O,k,G){if(k==null)throw Error(a(151));for(var ct=null,Pt=null,ut=O,bt=O=0,Dt=null,zt=k.next();ut!==null&&!zt.done;bt++,zt=k.next()){ut.index>bt?(Dt=ut,ut=null):Dt=ut.sibling;var Mr=z(U,ut,zt.value,G);if(Mr===null){ut===null&&(ut=Dt);break}e&&ut&&Mr.alternate===null&&n(U,ut),O=f(Mr,O,bt),Pt===null?ct=Mr:Pt.sibling=Mr,Pt=Mr,ut=Dt}if(zt.done)return r(U,ut),Mt&&Vi(U,bt),ct;if(ut===null){for(;!zt.done;bt++,zt=k.next())zt=F(U,zt.value,G),zt!==null&&(O=f(zt,O,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return Mt&&Vi(U,bt),ct}for(ut=o(ut);!zt.done;bt++,zt=k.next())zt=j(ut,U,bt,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?bt:zt.key),O=f(zt,O,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return e&&ut.forEach(function(hS){return n(U,hS)}),Mt&&Vi(U,bt),ct}function Jt(U,O,k,G){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case K:t:{for(var ct=k.key;O!==null;){if(O.key===ct){if(ct=k.type,ct===et){if(O.tag===7){r(U,O.sibling),G=h(O,k.props.children),G.return=U,U=G;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Ss(ct)===O.type){r(U,O.sibling),G=h(O,k.props),ko(G,k),G.return=U,U=G;break t}r(U,O);break}else n(U,O);O=O.sibling}k.type===et?(G=_s(k.props.children,U.mode,G,k.key),G.return=U,U=G):(G=Eu(k.type,k.key,k.props,null,U.mode,G),ko(G,k),G.return=U,U=G)}return g(U);case Z:t:{for(ct=k.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){r(U,O.sibling),G=h(O,k.children||[]),G.return=U,U=G;break t}else{r(U,O);break}else n(U,O);O=O.sibling}G=kh(k,U.mode,G),G.return=U,U=G}return g(U);case S:return k=Ss(k),Jt(U,O,k,G)}if(Ie(k))return lt(U,O,k,G);if(M(k)){if(ct=M(k),typeof ct!="function")throw Error(a(150));return k=ct.call(k),mt(U,O,k,G)}if(typeof k.then=="function")return Jt(U,O,Iu(k),G);if(k.$$typeof===ot)return Jt(U,O,Su(U,k),G);Cu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(r(U,O.sibling),G=h(O,k),G.return=U,U=G):(r(U,O),G=Lh(k,U.mode,G),G.return=U,U=G),g(U)):r(U,O)}return function(U,O,k,G){try{Lo=0;var ct=Jt(U,O,k,G);return ya=null,ct}catch(ut){if(ut===pa||ut===wu)throw ut;var Pt=mn(29,ut,null,U.mode);return Pt.lanes=G,Pt.return=U,Pt}}}var ws=Mg(!0),xg=Mg(!1),pr=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=vu(e),yg(e,null,r),n}return _u(e,o,n,r),vu(e)}function Po(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}function Zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var $h=!1;function zo(){if($h){var e=ga;if(e!==null)throw e}}function Bo(e,n,r,o){$h=!1;var h=e.updateQueue;pr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=R))}if(f!==null){var F=h.baseState;g=0,q=P=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Ct&z)===z:(o&z)===z){z!==0&&z===ma&&($h=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,mt=E;z=n;var Jt=r;switch(mt.tag){case 1:if(lt=mt.payload,typeof lt=="function"){F=lt.call(Jt,F,z);break t}F=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=mt.payload,z=typeof lt=="function"?lt.call(Jt,F,z):lt,z==null)break t;F=b({},F,z);break t;case 2:pr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=j,R=F):q=q.next=j,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);q===null&&(R=F),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Sr|=g,e.lanes=g,e.memoizedState=F}}function Ug(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Lg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ug(r[e],n)}var _a=V(null),Du=V(0);function kg(e,n){e=Hi,W(Du,e),W(_a,n),Hi=e|n.baseLanes}function Wh(){W(Du,Hi),W(_a,_a.current)}function tf(){Hi=Du.current,Q(_a),Q(Du)}var gn=V(null),Nn=null;function vr(e){var n=e.alternate;W(fe,fe.current&1),W(gn,e),Nn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Nn=e)}function ef(e){W(fe,fe.current),W(gn,e),Nn===null&&(Nn=e)}function Pg(e){e.tag===22?(W(fe,fe.current),W(gn,e),Nn===null&&(Nn=e)):Er()}function Er(){W(fe,fe.current),W(gn,gn.current)}function pn(e){Q(gn),Nn===e&&(Nn=null),Q(fe)}var fe=V(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ld(r)||ud(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,At=null,Yt=null,Te=null,Ou=!1,va=!1,Rs=!1,Vu=0,jo=0,Ea=null,eA=0;function le(){throw Error(a(321))}function nf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!dn(e[r],n[r]))return!1;return!0}function rf(e,n,r,o,h,f){return Ui=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Tp:vf,Rs=!1,f=r(o,h),Rs=!1,va&&(f=Bg(n,r,o,h)),zg(e),f}function zg(e){H.H=Go;var n=Yt!==null&&Yt.next!==null;if(Ui=0,Te=Yt=At=null,Ou=!1,jo=0,Ea=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Au(e)&&(Ae=!0))}function Bg(e,n,r,o){At=e;var h=0;do{if(va&&(Ea=null),jo=0,va=!1,25<=h)throw Error(a(301));if(h+=1,Te=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Ap,f=n(r,o)}while(va);return f}function nA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function sf(){var e=Vu!==0;return Vu=0,e}function af(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function of(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}Ui=0,Te=Yt=At=null,va=!1,jo=Vu=0,Ea=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?At.memoizedState=Te=e:Te=Te.next=e}return Te}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=jo;return jo+=1,Ea===null&&(Ea=[]),e=Ng(Ea,e,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Tp:vf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===ot)return je(e)}throw Error(a(438,String(e)))}function lf(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Mu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=I;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=de();return uf(n,Yt,e)}function uf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,q=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Ct&F)===F:(Ui&F)===F){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===ma&&(q=!0);else if((Ui&z)===z){P=P.next,z===ma&&(q=!0);continue}else F={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=F,g=f):R=R.next=F,At.lanes|=z,Sr|=z;F=P.action,Rs&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else z={lane:F,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,At.lanes|=F,Sr|=F;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!dn(f,e.memoizedState)&&(Ae=!0,q&&(r=ga,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function jg(e,n,r){var o=At,h=de(),f=Mt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!dn((Yt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ae=!0),h=h.queue,df(Gg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},Hg.bind(null,o,h,r,n),null),$t===null)throw Error(a(349));f||(Ui&127)!==0||qg(o,n,r)}return r}function qg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Mu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Hg(e,n,r,o){n.value=r,n.getSnapshot=o,Fg(n)&&Qg(e)}function Gg(e,n,r){return r(function(){Fg(n)&&Qg(e)})}function Fg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!dn(e,r)}catch{return!0}}function Qg(e){var n=ys(e,2);n!==null&&ln(n,e,2)}function hf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Rs){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Kg(e,n,r,o){return e.baseState=r,uf(e,Yt,typeof o=="function"?o:Li)}function iA(e,n,r,o,h){if(Pu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Yg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Yg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),R=H.S;R!==null&&R(g,E),Xg(e,n,E)}catch(P){ff(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),Xg(e,n,f)}catch(P){ff(e,n,P)}}function Xg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Jg(e,n,o)},function(o){return ff(e,n,o)}):Jg(e,n,r)}function Jg(e,n,r){n.status="fulfilled",n.value=r,Zg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Yg(e,r)))}function ff(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Zg(n),n=n.next;while(n!==o)}e.action=null}function Zg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Wg(e,n){if(Mt){var r=$t.formState;if(r!==null){t:{var o=At;if(Mt){if(ee){e:{for(var h=ee,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=On(h.nextSibling),o=h.data==="F!";break t}}mr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},r.queue=o,r=_p.bind(null,At,o),o.dispatch=r,o=hf(!1),f=_f.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=iA.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function tp(e){var n=de();return ep(n,Yt,e)}function ep(e,n,r){if(n=uf(e,n,$g)[0],e=Uu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(g){throw g===pa?wu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Ta(9,{destroy:void 0},rA.bind(null,h,r),null)),[o,f,e]}function rA(e,n){e.action=n}function np(e){var n=de(),r=Yt;if(r!==null)return ep(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ta(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Mu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function ip(){return de().memoizedState}function Lu(e,n,r,o){var h=tn();At.flags|=e,h.memoizedState=Ta(1|n,{destroy:void 0},r,o===void 0?null:o)}function ku(e,n,r,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&nf(o,Yt.memoizedState.deps)?h.memoizedState=Ta(n,f,r,o):(At.flags|=e,h.memoizedState=Ta(1|n,f,r,o))}function rp(e,n){Lu(8390656,8,e,n)}function df(e,n){ku(2048,8,e,n)}function sA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Mu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function sp(e){var n=de().memoizedState;return sA({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ap(e,n){return ku(4,2,e,n)}function op(e,n){return ku(4,4,e,n)}function lp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function up(e,n,r){r=r!=null?r.concat([e]):null,ku(4,4,lp.bind(null,n,e),r)}function mf(){}function cp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function hp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),Rs){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o}function gf(e,n,r){return r===void 0||(Ui&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=fy(),At.lanes|=e,Sr|=e,r)}function fp(e,n,r,o){return dn(r,n)?r:_a.current!==null?(e=gf(e,r,o),dn(e,n)||(Ae=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Ct&261930)===0?(Ae=!0,e.memoizedState=r):(e=fy(),At.lanes|=e,Sr|=e,n)}function dp(e,n,r,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,_f(e,!1,n,r);try{var R=h(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=tA(R,o);Ho(e,n,q,vn(e))}else Ho(e,n,o,vn(e))}catch(F){Ho(e,n,{then:function(){},status:"rejected",reason:F},vn())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function aA(){}function pf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=mp(e).queue;dp(e,h,n,dt,r===null?aA:function(){return gp(e),r(o)})}function mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:dt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gp(e){var n=mp(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},vn())}function yf(){return je(al)}function pp(){return de().memoizedState}function yp(){return de().memoizedState}function oA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=vn();e=yr(r);var o=_r(n,e,r);o!==null&&(ln(o,n,r),Po(o,n,r)),n={cache:Fh()},e.payload=n;return}n=n.return}}function lA(e,n,r){var o=vn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(e)?vp(n,r):(r=xh(e,n,r,o),r!==null&&(ln(r,e,o),Ep(r,n,o)))}function _p(e,n,r){var o=vn();Ho(e,n,r,o)}function Ho(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return _u(e,n,h,0),$t===null&&yu(),!1}catch{}if(r=xh(e,n,h,o),r!==null)return ln(r,e,o),Ep(r,n,o),!0}return!1}function _f(e,n,r,o){if(o={lane:2,revertLane:Jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(a(479))}else n=xh(e,r,o,2),n!==null&&ln(n,e,2)}function Pu(e){var n=e.alternate;return e===At||n!==null&&n===At}function vp(e,n){va=Ou=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ep(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}var Go={readContext:je,use:xu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Go.useEffectEvent=le;var Tp={readContext:je,use:xu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:rp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Lu(4194308,4,lp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Rs){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(Rs){En(!0);try{r(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=lA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,r=_p.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:mf,useDeferredValue:function(e,n){var r=tn();return gf(r,e,n)},useTransition:function(){var e=hf(!1);return e=dp.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=tn();if(Mt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Ct&127)!==0||qg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,rp(Gg.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},Hg.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=$t.identifierPrefix;if(Mt){var r=yi,o=pi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Vu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=eA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=_f.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return tn().memoizedState=oA.bind(null,At)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((jt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},vf={readContext:je,use:xu,useCallback:cp,useContext:je,useEffect:df,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:hp,useReducer:Uu,useRef:ip,useState:function(){return Uu(Li)},useDebugValue:mf,useDeferredValue:function(e,n){var r=de();return fp(r,Yt.memoizedState,e,n)},useTransition:function(){var e=Uu(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:jg,useId:pp,useHostTransitionStatus:yf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var r=de();return Kg(r,Yt,e,n)},useMemoCache:lf,useCacheRefresh:yp};vf.useEffectEvent=sp;var Ap={readContext:je,use:xu,useCallback:cp,useContext:je,useEffect:df,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:hp,useReducer:cf,useRef:ip,useState:function(){return cf(Li)},useDebugValue:mf,useDeferredValue:function(e,n){var r=de();return Yt===null?gf(r,e,n):fp(r,Yt.memoizedState,e,n)},useTransition:function(){var e=cf(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:jg,useId:pp,useHostTransitionStatus:yf,useFormState:np,useActionState:np,useOptimistic:function(e,n){var r=de();return Yt!==null?Kg(r,Yt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:lf,useCacheRefresh:yp};Ap.useEffectEvent=sp;function Ef(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=vn(),h=yr(o);h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=vn(),h=yr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=vn(),o=yr(r);o.tag=2,n!=null&&(o.callback=n),n=_r(e,o,r),n!==null&&(ln(n,e,r),Po(n,e,r))}};function Sp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!No(r,o)||!No(h,f):!0}function bp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function Is(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function wp(e){pu(e)}function Rp(e){console.error(e)}function Ip(e){pu(e)}function zu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Cp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,n,r){return r=yr(r),r.tag=3,r.payload={element:null},r.callback=function(){zu(e,n)},r}function Dp(e){return e=yr(e),e.tag=3,e}function Np(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Cp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Cp(n,r,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function uA(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&da(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Nn===null?Zu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Kf(e,o,h)),!1;case 22:return r.flags|=65536,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Kf(e,o,h)),!1}throw Error(a(435,r.tag))}return Kf(e,o,h),Zu(),!1}if(Mt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Bh&&(e=Error(a(422),{cause:o}),Mo(Rn(e,r)))):(o!==Bh&&(n=Error(a(423),{cause:o}),Mo(Rn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,r),h=Af(e.stateNode,o,h),Zh(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Rn(f,r),$o===null?$o=[f]:$o.push(f),ue!==4&&(ue=2),n===null)return!0;o=Rn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Af(r.stateNode,o,e),Zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Dp(h),Np(h,e,r,o),Zh(r,h),!1}r=r.return}while(r!==null);return!1}var Sf=Error(a(461)),Ae=!1;function qe(e,n,r,o){n.child=e===null?xg(n,null,r,o):ws(n,e.child,r,o)}function Op(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ts(n),o=rf(e,n,r,g,f,h),E=sf(),e!==null&&!Ae?(af(e,n,h),ki(e,n,h)):(Mt&&E&&Ph(n),n.flags|=1,qe(e,n,o,h),n.child)}function Vp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Mp(e,n,f,o,h)):(e=Eu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:No,r(g,o)&&e.ref===n.ref)return ki(e,n,h)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Mp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(No(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Of(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,ki(e,n,h)}return bf(e,n,r,o,h)}function xp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Up(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?kg(n,f):Wh(),Pg(n);else return o=n.lanes=536870912,Up(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(bu(n,f.cachePool),kg(n,f),Er(),n.memoizedState=null):(e!==null&&bu(n,null),Wh(),Er());return qe(e,n,h,r),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Up(e,n,r,o,h){var f=Kh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&bu(n,null),Wh(),Pg(n),e!==null&&da(e,n,o,!0),n.childLanes=h,null}function Bu(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Lp(e,n,r){return ws(n,e.child,null,r),e=Bu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function cA(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Bu(n,o),n.lanes=536870912,Fo(null,e);if(ef(n),(e=ee)?(e=Yy(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=vg(e),r.return=n,n.child=r,Be=n,ee=null)):e=null,e===null)throw mr(n);return n.lanes=536870912,null}return Bu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ef(n),h)if(n.flags&256)n.flags&=-257,n=Lp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||da(e,n,r,!1),h=(r&e.childLanes)!==0,Ae||h){if(o=$t,o!==null&&(g=ho(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ys(e,g),ln(o,e,g),Sf;Zu(),n=Lp(e,n,r)}else e=f.treeContext,ee=On(g.nextSibling),Be=n,Mt=!0,dr=null,Dn=!1,e!==null&&Ag(n,e),n=Bu(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function bf(e,n,r,o,h){return Ts(n),r=rf(e,n,r,o,void 0,h),o=sf(),e!==null&&!Ae?(af(e,n,h),ki(e,n,h)):(Mt&&o&&Ph(n),n.flags|=1,qe(e,n,r,h),n.child)}function kp(e,n,r,o,h,f){return Ts(n),n.updateQueue=null,r=Bg(n,o,r,h),zg(e),o=sf(),e!==null&&!Ae?(af(e,n,f),ki(e,n,f)):(Mt&&o&&Ph(n),n.flags|=1,qe(e,n,r,f),n.child)}function Pp(e,n,r,o,h){if(Ts(n),n.stateNode===null){var f=ua,g=r.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?je(g):ua,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Ef(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Tf.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Is(r,E);f.props=R;var P=f.context,q=r.contextType;g=ua,typeof q=="object"&&q!==null&&(g=je(q));var F=r.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&bp(n,f,o,g),pr=!1;var z=n.memoizedState;f.state=z,Bo(n,o,f,h),zo(),P=n.memoizedState,E||z!==P||pr?(typeof F=="function"&&(Ef(n,r,F,o),P=n.memoizedState),(R=pr||Sp(n,r,R,o,z,P,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Jh(e,n),g=n.memoizedProps,q=Is(r,g),f.props=q,F=n.pendingProps,z=f.context,P=r.contextType,R=ua,typeof P=="object"&&P!==null&&(R=je(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||z!==R)&&bp(n,f,o,R),pr=!1,z=n.memoizedState,f.state=z,Bo(n,o,f,h),zo();var j=n.memoizedState;g!==F||z!==j||pr||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(Ef(n,r,E,o),j=n.memoizedState),(q=pr||Sp(n,r,q,o,z,j,R)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ws(n,e.child,null,h),n.child=ws(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ki(e,n,h),e}function zp(e,n,r,o){return vs(),n.flags|=256,qe(e,n,r,o),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Cg()}}function If(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=_n),e}function Bp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?vr(n):Er(),(e=ee)?(e=Yy(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=vg(e),r.return=n,n.child=r,Be=n,ee=null)):e=null,e===null)throw mr(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Er(),h=n.mode,E=qu({mode:"hidden",children:E},h),o=_s(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(r),o.childLanes=If(e,g,r),n.memoizedState=wf,Fo(null,o)):(vr(n),Cf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=Df(e,n,r)):n.memoizedState!==null?(Er(),n.child=e.child,n.flags|=128,n=null):(Er(),E=o.fallback,h=n.mode,o=qu({mode:"visible",children:o.children},h),E=_s(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ws(n,e.child,null,r),o=n.child,o.memoizedState=Rf(r),o.childLanes=If(e,g,r),n.memoizedState=wf,n=Fo(null,o));else if(vr(n),ud(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Mo({value:o,source:null,stack:null}),n=Df(e,n,r)}else if(Ae||da(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=$t,g!==null&&(o=ho(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,ys(e,o),ln(g,e,o),Sf;ld(E)||Zu(),n=Df(e,n,r)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ee=On(E.nextSibling),Be=n,Mt=!0,dr=null,Dn=!1,e!==null&&Ag(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return h?(Er(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Oi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Oi(P,E):(E=_s(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(r):(h=E.cachePool,h!==null?(R=Ee._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Cg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=If(e,g,r),n.memoizedState=wf,Fo(e.child,o)):(vr(n),r=e.child,e=r.sibling,r=Oi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Cf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Df(e,n,r){return ws(n,e.child,null,r),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,r)}function Nf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function qp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(fe,g),qe(e,n,o,r),o=Mt?Vo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,r,n);else if(e.tag===19)jp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Nu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Nf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Nf(n,!0,r,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ki(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(da(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Oi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Oi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function hA(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),gr(n,Ee,e.memoizedState.cache),vs();break;case 27:case 5:Wr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Bp(e,n,r):(vr(n),e=ki(e,n,r),e!==null?e.sibling:null);vr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(da(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return qp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(fe,fe.current),o)break;return null;case 22:return n.lanes=0,xp(e,n,r,n.pendingProps);case 24:gr(n,Ee,e.memoizedState.cache)}return ki(e,n,r)}function Hp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Of(e,r)&&(n.flags&128)===0)return Ae=!1,hA(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,Mt&&(n.flags&1048576)!==0&&Tg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ss(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=Is(e,o),n.tag=1,n=Pp(null,n,e,o,r)):(n.tag=0,n=bf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===wt){n.tag=11,n=Op(null,n,e,o,r);break t}else if(h===D){n.tag=14,n=Vp(null,n,e,o,r);break t}}throw n=Zt(e)||e,Error(a(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Is(o,n.pendingProps),Pp(e,n,o,h,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Jh(e,n),Bo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,gr(n,Ee,o),o!==f.cache&&Gh(n,[Ee],r,!0),zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zp(e,n,o,r);break t}else if(o!==h){h=Rn(Error(a(424)),n),Mo(h),n=zp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=On(e.firstChild),Be=n,Mt=!0,dr=null,Dn=!0,r=xg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),o===h){n=ki(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return ju(e,n),e===null?(r=t_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Mt||(r=n.type,e=n.pendingProps,o=rc(St.current).createElement(r),o[ye]=n,o[Me]=e,He(o,r,e),_e(o),n.stateNode=o):n.memoizedState=t_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wr(n),e===null&&Mt&&(o=n.stateNode=Zy(n.type,n.pendingProps,St.current),Be=n,Dn=!0,h=ee,Cr(n.type)?(cd=h,ee=On(o.firstChild)):ee=h),qe(e,n,n.pendingProps.children,r),ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=ee)&&(o=jA(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,Be=n,ee=On(o.firstChild),Dn=!1,h=!0):h=!1),h||mr(n)),Wr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,sd(h,f)?o=null:g!==null&&sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=rf(e,n,nA,null,null,r),al._currentValue=h),ju(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Mt&&((e=r=ee)&&(r=qA(r,n.pendingProps,Dn),r!==null?(n.stateNode=r,Be=n,ee=null,e=!0):e=!1),e||mr(n)),null;case 13:return Bp(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ws(n,null,o,r):qe(e,n,o,r),n.child;case 11:return Op(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ts(n),h=je(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Vp(e,n,n.type,n.pendingProps,r);case 15:return Mp(e,n,n.type,n.pendingProps,r);case 19:return qp(e,n,r);case 31:return cA(e,n,r);case 22:return xp(e,n,r,n.pendingProps);case 24:return Ts(n),o=je(Ee),e===null?(h=Kh(),h===null&&(h=$t,f=Fh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Xh(n),gr(n,Ee,h)):((e.lanes&r)!==0&&(Jh(e,n),Bo(n,null,null,r),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gr(n,Ee,o)):(o=f.cache,gr(n,Ee,o),o!==h.cache&&Gh(n,[Ee],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function Vf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(py())e.flags|=8192;else throw bs=Ru,Yh}else e.flags&=-16777217}function Gp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s_(n))if(py())e.flags|=8192;else throw bs=Ru,Yh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xl():536870912,e.lanes|=n,wa|=n)}function Qo(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function fA(e,n,r){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fa(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(ne(n),Gp(n,f)):(ne(n),Vf(n,h,null,o,r))):f?f!==e.memoizedState?(Pi(n),ne(n),Gp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),ne(n),Vf(n,h,e,o,r)),null;case 27:if(Gs(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=st.current,fa(n)?Sg(n):(e=Zy(h,o,r),n.stateNode=e,Pi(n))}return ne(n),null;case 5:if(Gs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=st.current,fa(n))Sg(n);else{var g=rc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return ne(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,fa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||By(e.nodeValue,r)),e||mr(n,!0)}else e=rc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Hu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&td(n.stateNode.containerInfo),ne(n),null;case 10:return xi(n.type),ne(n),null;case 19:if(Q(fe),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)_g(r,e),r=r.sibling;return W(fe,fe.current&1|2),Mt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Yu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ne(n),null}else 2*$e()-o.renderingStartTime>Yu&&r!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=fe.current,W(fe,h?r&1|2:r&1),Mt&&Vi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return pn(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Hu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(As),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function dA(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(fe),null;case 4:return re(),null;case 10:return xi(n.type),null;case 22:case 23:return pn(n),tf(),e!==null&&Q(As),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(Ee),null;case 25:return null;default:return null}}function Fp(e,n){switch(zh(n),n.tag){case 3:xi(Ee),re();break;case 26:case 27:case 5:Gs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:Q(fe);break;case 10:xi(n.type);break;case 22:case 23:pn(n),tf(),e!==null&&Q(As);break;case 24:xi(Ee)}}function Ko(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Qt(n,n.return,E)}}function Tr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(q){Qt(h,R,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function Qp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Lg(n,r)}catch(o){Qt(e,e.return,o)}}}function Kp(e,n,r){r.props=Is(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Yo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Qt(e,n,h)}}function _i(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Qt(e,n,h)}else r.current=null}function Yp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Qt(e,e.return,h)}}function Mf(e,n,r){try{var o=e.stateNode;UA(o,e.type,r,n),o[Me]=n}catch(h){Qt(e,e.return,h)}}function Xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cr(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Cr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,r),e=e.sibling;e!==null;)Uf(e,n,r),e=e.sibling}function Gu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Cr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Gu(e,n,r),e=e.sibling;e!==null;)Gu(e,n,r),e=e.sibling}function Jp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,r),n[ye]=e,n[Me]=r}catch(f){Qt(e,e.return,f)}}var zi=!1,Se=!1,Lf=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function mA(e,n){if(e=e.containerInfo,id=hc,e=ug(e),Ch(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,P=0,q=0,F=e,z=null;e:for(;;){for(var j;F!==r||h!==0&&F.nodeType!==3||(E=g+h),F!==f||o!==0&&F.nodeType!==3||(R=g+o),F.nodeType===3&&(g+=F.nodeValue.length),(j=F.firstChild)!==null;)z=F,F=j;for(;;){if(F===e)break e;if(z===r&&++P===h&&(E=g),z===f&&++q===o&&(R=g),(j=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=j}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},hc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Is(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Qt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)od(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function $p(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ji(e,r),o&4&&Ko(5,r);break;case 1:if(ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(r,r.return,g)}else{var h=Is(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(r,r.return,g)}}o&64&&Qp(r),o&512&&Yo(r,r.return);break;case 3:if(ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Lg(e,n)}catch(g){Qt(r,r.return,g)}}break;case 27:n===null&&o&4&&Jp(r);case 26:case 5:ji(e,r),n===null&&o&4&&Yp(r),o&512&&Yo(r,r.return);break;case 12:ji(e,r);break;case 31:ji(e,r),o&4&&ey(e,r);break;case 13:ji(e,r),o&4&&ny(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=SA.bind(null,r),HA(e,r))));break;case 22:if(o=r.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||Se,h=zi;var f=Se;zi=o,(Se=n)&&!f?qi(e,r,(r.subtreeFlags&8772)!==0):ji(e,r),zi=h,Se=f}break;case 30:break;default:ji(e,r)}}function Wp(e){var n=e.alternate;n!==null&&(e.alternate=null,Wp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Bi(e,n,r){for(r=r.child;r!==null;)ty(e,n,r),r=r.sibling}function ty(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Se||_i(r,n),Bi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||_i(r,n);var o=ae,h=rn;Cr(r.type)&&(ae=r.stateNode,rn=!1),Bi(e,n,r),il(r.stateNode),ae=o,rn=h;break;case 5:Se||_i(r,n);case 6:if(o=ae,h=rn,ae=null,Bi(e,n,r),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ma(e)):Qy(ae,r.stateNode));break;case 4:o=ae,h=rn,ae=r.stateNode.containerInfo,rn=!0,Bi(e,n,r),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Tr(2,r,n),Se||Tr(4,r,n),Bi(e,n,r);break;case 1:Se||(_i(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Kp(r,n,o)),Bi(e,n,r);break;case 21:Bi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,Bi(e,n,r),Se=o;break;default:Bi(e,n,r)}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(r){Qt(n,n.return,r)}}}function ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(r){Qt(n,n.return,r)}}function gA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Zp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Zp),n;default:throw Error(a(435,e.tag))}}function Fu(e,n){var r=gA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=bA.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Cr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ty(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)iy(n,e),n=n.sibling}var Fn=null;function iy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Tr(3,e,e.return),Ko(3,e),Tr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(Se||r===null||_i(r,r.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Fn;if(sn(n,e),an(e),o&512&&(Se||r===null||_i(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=i_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;case"meta":if(g=i_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else r_(h,e.type,e.stateNode);else e.stateNode=n_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?r_(h,e.type,e.stateNode):n_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(Se||r===null||_i(r,r.return)),r!==null&&o&4&&Mf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(Se||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(lt){Qt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Lf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){Qt(e,e.return,lt)}}break;case 3:if(oc=null,h=Fn,Fn=sc(n.containerInfo),sn(n,e),Fn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(lt){Qt(e,e.return,lt)}Lf&&(Lf=!1,ry(e));break;case 4:o=Fn,Fn=sc(e.stateNode.containerInfo),sn(n,e),an(e),Fn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ku=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=zi,q=Se;if(zi=P||h,Se=q||R,sn(n,e),Se=q,zi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||zi||Se||Cs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){Qt(R,R.return,lt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Qt(R,R.return,lt)}}}else if(n.tag===18){if(r===null){R=n;try{var j=R.stateNode;h?Ky(j,!0):Ky(R.stateNode,!1)}catch(lt){Qt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Fu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Xp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=xf(e);Gu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var E=xf(e);Gu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=xf(e);Uf(e,P,R);break;default:throw Error(a(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ry(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Cs(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Kp(n,n.return,r),Cs(n);break;case 27:il(n.stateNode);case 26:case 5:_i(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function qi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(h,f,r),Ko(4,f);break;case 1:if(qi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ug(R[h],E)}catch(P){Qt(o,o.return,P)}}r&&g&64&&Qp(f),Yo(f,f.return);break;case 27:Jp(f);case 26:case 5:qi(h,f,r),r&&o===null&&g&4&&Yp(f),Yo(f,f.return);break;case 12:qi(h,f,r);break;case 31:qi(h,f,r),r&&g&4&&ey(h,f);break;case 13:qi(h,f,r),r&&g&4&&ny(h,f);break;case 22:f.memoizedState===null&&qi(h,f,r),Yo(f,f.return);break;case 30:break;default:qi(h,f,r)}n=n.sibling}}function kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xo(r))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sy(e,n,r,o),n=n.sibling}function sy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),h&2048&&Ko(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Xo(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,Aa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&kf(g,n);break;case 24:Qn(e,n,r,o),h&2048&&Pf(n.alternate,n);break;default:Qn(e,n,r,o)}}function Aa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Aa(f,g,E,R,h),Ko(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?Aa(f,g,E,R,h):Xo(f,g):(q._visibility|=2,Aa(f,g,E,R,h)),h&&P&2048&&kf(g.alternate,g);break;case 24:Aa(f,g,E,R,h),h&&P&2048&&Pf(g.alternate,g);break;default:Aa(f,g,E,R,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(r,o),h&2048&&kf(o.alternate,o);break;case 24:Xo(r,o),h&2048&&Pf(o.alternate,o);break;default:Xo(r,o)}n=n.sibling}}var Jo=8192;function Sa(e,n,r){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)ay(e,n,r),e=e.sibling}function ay(e,n,r){switch(e.tag){case 26:Sa(e,n,r),e.flags&Jo&&e.memoizedState!==null&&eS(r,Fn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,r);break;case 3:case 4:var o=Fn;Fn=sc(e.stateNode.containerInfo),Sa(e,n,r),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,Sa(e,n,r),Jo=o):Sa(e,n,r));break;default:Sa(e,n,r)}}function oy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,uy(o,e)}oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ly(e),e=e.sibling}function ly(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Zo(e);break;default:Zo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,uy(o,e)}oy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function uy(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Wp(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var pA={getCacheForType:function(e){var n=je(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return je(Ee).controller.signal}},yA=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,Rt=null,Ct=0,Ft=0,yn=null,Ar=!1,ba=!1,zf=!1,Hi=0,ue=0,Sr=0,Ds=0,Bf=0,_n=0,wa=0,$o=null,on=null,jf=!1,Ku=0,cy=0,Yu=1/0,Xu=null,br=null,Ne=0,wr=null,Ra=null,Gi=0,qf=0,Hf=null,hy=null,Wo=0,Gf=null;function vn(){return(jt&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?Jf():Jl()}function fy(){if(_n===0)if((Ct&536870912)===0||Mt){var e=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function ln(e,n,r){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Rr(e,Ct,_n,!1)),is(e,r),((jt&2)===0||e!==$t)&&(e===$t&&((jt&2)===0&&(Ds|=r),ue===4&&Rr(e,Ct,_n,!1)),vi(e))}function dy(e,n,r){if((jt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?EA(e,n):Qf(e,n,!0),f=o;do{if(h===0){ba&&!o&&Rr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!_A(r)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=$o;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,g).flags|=256),g=Qf(E,g,!1),g!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,Ds|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),Rr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Rr(o,n,_n,!Ar);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ku+300-$e(),10<h)){if(Rr(o,n,_n,!Ar),ei(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Gy(my.bind(null,o,r,on,Xu,jf,n,_n,Ds,wa,Ar,f,"Throttled",-0,0),h);break t}my(o,r,on,Xu,jf,n,_n,Ds,wa,Ar,f,null,-0,0)}}break}while(!0);vi(e)}function my(e,n,r,o,h,f,g,E,R,P,q,F,z,j){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},ay(n,f,F);var lt=(f&62914560)===f?Ku-$e():(f&4194048)===f?cy-$e():0;if(lt=nS(F,lt),lt!==null){Gi=f,e.cancelPendingCommit=lt(Ay.bind(null,e,n,f,r,o,h,g,E,R,q,F,null,z,j)),Rr(e,f,g,!P);return}}Ay(e,n,f,r,o,h,g,E,R)}function _A(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(e,n,r,o){n&=~Bf,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&rs(e,r,n)}function Ju(){return(jt&6)===0?(tl(0),!1):!0}function Ff(){if(Rt!==null){if(Ft===0)var e=Rt.return;else e=Rt,Mi=Es=null,of(e),ya=null,Lo=0,e=Rt;for(;e!==null;)Fp(e.alternate,e),e=e.return;Rt=null}}function Ia(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,PA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,Ff(),$t=e,Rt=r=Oi(e.current,null),Ct=n,Ft=0,yn=null,Ar=!1,ba=Ln(e,n),zf=!1,wa=_n=Bf=Ds=Sr=ue=0,on=$o=null,jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Hi=n,yu(),r}function gy(e,n){At=null,H.H=Go,n===pa||n===wu?(n=Og(),Ft=3):n===Yh?(n=Og(),Ft=4):Ft=n===Sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Rt===null&&(ue=1,zu(e,Rn(n,e.current)))}function py(){var e=gn.current;return e===null?!0:(Ct&4194048)===Ct?Nn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Nn:!1}function yy(){var e=H.H;return H.H=Go,e===null?Go:e}function _y(){var e=H.A;return H.A=pA,e}function Zu(){ue=4,Ar||(Ct&4194048)!==Ct&&gn.current!==null||(ba=!0),(Sr&134217727)===0&&(Ds&134217727)===0||$t===null||Rr($t,Ct,_n,!1)}function Qf(e,n,r){var o=jt;jt|=2;var h=yy(),f=_y();($t!==e||Ct!==n)&&(Xu=null,Ia(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,R=yn;switch(Ft){case 8:Ff(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Ft;if(Ft=0,yn=null,Ca(e,E,R,P),r&&ba){g=0;break t}break;default:P=Ft,Ft=0,yn=null,Ca(e,E,R,P)}}vA(),g=ue;break}catch(q){gy(e,q)}while(!0);return n&&e.shellSuspendCounter++,Mi=Es=null,jt=o,H.H=h,H.A=f,Rt===null&&($t=null,Ct=0,yu()),g}function vA(){for(;Rt!==null;)vy(Rt)}function EA(e,n){var r=jt;jt|=2;var o=yy(),h=_y();$t!==e||Ct!==n?(Xu=null,Yu=$e()+500,Ia(e,n)):ba=Ln(e,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,Ca(e,n,f,1);break;case 2:case 9:if(Dg(f)){Ft=0,yn=null,Ey(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),vi(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Dg(f)?(Ft=0,yn=null,Ey(n)):(Ft=0,yn=null,Ca(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?s_(g):E.stateNode.complete){Ft=0,yn=null;var R=E.sibling;if(R!==null)Rt=R;else{var P=E.return;P!==null?(Rt=P,$u(P)):Rt=null}break e}}Ft=0,yn=null,Ca(e,n,f,5);break;case 6:Ft=0,yn=null,Ca(e,n,f,6);break;case 8:Ff(),ue=6;break t;default:throw Error(a(462))}}TA();break}catch(q){gy(e,q)}while(!0);return Mi=Es=null,H.H=o,H.A=h,jt=r,Rt!==null?0:($t=null,Ct=0,yu(),ue)}function TA(){for(;Rt!==null&&!Th();)vy(Rt)}function vy(e){var n=Hp(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?$u(e):Rt=n}function Ey(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=kp(r,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=kp(r,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:of(n);default:Fp(r,n),n=Rt=_g(n,Hi),n=Hp(r,n,Hi)}e.memoizedProps=e.pendingProps,n===null?$u(e):Rt=n}function Ca(e,n,r,o){Mi=Es=null,of(n),ya=null,Lo=0;var h=n.return;try{if(uA(e,h,n,r,Ct)){ue=1,zu(e,Rn(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ue=1,zu(e,Rn(r,e.current)),Rt=null;return}n.flags&32768?(Mt||o===1?e=!0:ba||(Ct&536870912)!==0?e=!1:(Ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ty(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){Ty(n,Ar);return}e=n.return;var r=fA(n.alternate,n,Hi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ue===0&&(ue=5)}function Ty(e,n){do{var r=dA(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ue=6,Rt=null}function Ay(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do Wu();while(Ne!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mh,bh(e,r,f,g,E,R),e===$t&&(Rt=$t=null,Ct=0),Ra=n,wr=e,Gi=r,qf=f,Hf=h,hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wA(nr,function(){return Iy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=$.p,$.p=2,g=jt,jt|=4;try{mA(e,n,r)}finally{jt=g,$.p=h,H.T=o}}Ne=1,Sy(),by(),wy()}}function Sy(){if(Ne===1){Ne=0;var e=wr,n=Ra,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=$.p;$.p=2;var h=jt;jt|=4;try{iy(n,e);var f=rd,g=ug(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&lg(E.ownerDocument.documentElement,E)){if(R!==null&&Ch(E)){var P=R.start,q=R.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var j=z.getSelection(),lt=E.textContent.length,mt=Math.min(R.start,lt),Jt=R.end===void 0?mt:Math.min(R.end,lt);!j.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var U=og(E,mt),O=og(E,Jt);if(U&&O&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var k=F.createRange();k.setStart(U.node,U.offset),j.removeAllRanges(),mt>Jt?(j.addRange(k),j.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),j.addRange(k))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}hc=!!id,rd=id=null}finally{jt=h,$.p=o,H.T=r}}e.current=n,Ne=2}}function by(){if(Ne===2){Ne=0;var e=wr,n=Ra,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=$.p;$.p=2;var h=jt;jt|=4;try{$p(e,n.alternate,n)}finally{jt=h,$.p=o,H.T=r}}Ne=3}}function wy(){if(Ne===4||Ne===3){Ne=0,Hl();var e=wr,n=Ra,r=Gi,o=hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ra=wr=null,Ry(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),Ii(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=$.p,$.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,$.p=h}}(Gi&3)!==0&&Wu(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Gf?Wo++:(Wo=0,Gf=e):Wo=0,tl(0)}}function Ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function Wu(){return Sy(),by(),wy(),Iy()}function Iy(){if(Ne!==5)return!1;var e=wr,n=qf;qf=0;var r=Ii(Gi),o=H.T,h=$.p;try{$.p=32>r?32:r,H.T=null,r=Hf,Hf=null;var f=wr,g=Gi;if(Ne=0,Ra=wr=null,Gi=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,ly(f.current),sy(f,f.current,g,r),jt=E,tl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{$.p=h,H.T=o,Ry(e,n)}}function Cy(e,n,r){n=Rn(r,n),n=Af(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(is(e,2),vi(e))}function Qt(e,n,r){if(e.tag===3)Cy(e,e,r);else for(;n!==null;){if(n.tag===3){Cy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=Rn(r,e),r=Dp(2),o=_r(n,r,2),o!==null&&(Np(r,o,n,e),is(o,2),vi(o));break}}n=n.return}}function Kf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new yA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(zf=!0,h.add(r),e=AA.bind(null,e,n,r),n.then(e,e))}function AA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(Ct&r)===r&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>$e()-Ku?(jt&2)===0&&Ia(e,0):Bf|=r,wa===Ct&&(wa=0)),vi(e)}function Dy(e,n){n===0&&(n=Xl()),e=ys(e,n),e!==null&&(is(e,n),vi(e))}function SA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Dy(e,r)}function bA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Dy(e,r)}function wA(e,n){return De(e,n)}var tc=null,Da=null,Yf=!1,ec=!1,Xf=!1,Ir=0;function vi(e){e!==Da&&e.next===null&&(Da===null?tc=Da=e:Da=Da.next=e),ec=!0,Yf||(Yf=!0,IA())}function tl(e,n){if(!Xf&&ec){Xf=!0;do for(var r=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,My(o,f))}else f=Ct,f=ei(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(r=!0,My(o,f));o=o.next}while(r);Xf=!1}}function RA(){Ny()}function Ny(){ec=Yf=!1;var e=0;Ir!==0&&kA()&&(e=Ir);for(var n=$e(),r=null,o=tc;o!==null;){var h=o.next,f=Oy(o,n);f===0?(o.next=null,r===null?tc=h:r.next=h,h===null&&(Da=r)):(r=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}Ne!==0&&Ne!==5||tl(e),Ir!==0&&(Ir=0)}function Oy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Sh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,r=Ct,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&er(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ln(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&er(o),Ii(r)){case 2:case 8:r=uo;break;case 32:r=nr;break;case 268435456:r=Gl;break;default:r=nr}return o=Vy.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&er(o),e.callbackPriority=2,e.callbackNode=null,2}function Vy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Wu()&&e.callbackNode!==r)return null;var o=Ct;return o=ei(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(dy(e,o,n),Oy(e,$e()),e.callbackNode!=null&&e.callbackNode===r?Vy.bind(null,e):null)}function My(e,n){if(Wu())return null;dy(e,n,!0)}function IA(){zA(function(){(jt&6)!==0?De(lo,RA):Ny()})}function Jf(){if(Ir===0){var e=ma;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ir=e}return Ir}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ws(""+e)}function Uy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function CA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=xy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ir!==0){var R=g?Uy(h,g):new FormData(h);pf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Uy(h,g):new FormData(h),pf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Zf=0;Zf<Vh.length;Zf++){var $f=Vh[Zf],DA=$f.toLowerCase(),NA=$f[0].toUpperCase()+$f.slice(1);Gn(DA,"on"+NA)}Gn(fg,"onAnimationEnd"),Gn(dg,"onAnimationIteration"),Gn(mg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Q0,"onTransitionRun"),Gn(K0,"onTransitionStart"),Gn(Y0,"onTransitionCancel"),Gn(gg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Ly(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){pu(q)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){pu(q)}h.currentTarget=null,f=R}}}}function It(e,n){var r=n[Ys];r===void 0&&(r=n[Ys]=new Set);var o=e+"__bubble";r.has(o)||(ky(n,e,2,!1),r.add(o))}function Wf(e,n,r){var o=0;n&&(o|=4),ky(r,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[nc]){e[nc]=!0,fo.forEach(function(r){r!=="selectionchange"&&(OA.has(r)||Wf(r,!1,e),Wf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,Wf("selectionchange",!1,n))}}function ky(e,n,r,o){switch(f_(n)){case 2:var h=sS;break;case 8:h=aS;break;default:h=gd}r=h.bind(null,n,r,e),h=void 0,!us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ed(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}lr(function(){var P=f,q=An(r),F=[];t:{var z=pg.get(e);if(z!==void 0){var j=fi,lt=e;switch(e){case"keypress":if(hs(r)===0)break t;case"keydown":case"keyup":j=du;break;case"focusin":lt="focus",j=ds;break;case"focusout":lt="blur",j=ds;break;case"beforeblur":case"afterblur":j=ds;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case fg:case dg:case mg:j=au;break;case gg:j=T;break;case"scroll":case"scrollend":j=wo;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ni;break;case"toggle":case"beforetoggle":j=Tt}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),U=mt?z!==null?z+"Capture":null:z;mt=[];for(var O=P,k;O!==null;){var G=O;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||U===null||(G=Bn(O,U),G!=null&&mt.push(nl(O,G,k))),Jt)break;O=O.return}0<mt.length&&(z=new j(z,lt,null,r,q),F.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==Ao&&(lt=r.relatedTarget||r.fromElement)&&(si(lt)||lt[ii]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(lt=r.relatedTarget||r.toElement,j=P,lt=lt?si(lt):null,lt!==null&&(Jt=c(lt),mt=lt.tag,lt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(lt=null)):(j=null,lt=P),j!==lt)){if(mt=Ro,G="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Ni,G="onPointerLeave",U="onPointerEnter",O="pointer"),Jt=j==null?z:hn(j),k=lt==null?z:hn(lt),z=new mt(G,O+"leave",j,r,q),z.target=Jt,z.relatedTarget=k,G=null,si(q)===P&&(mt=new mt(U,O+"enter",lt,r,q),mt.target=k,mt.relatedTarget=Jt,G=mt),Jt=G,j&&lt)e:{for(mt=VA,U=j,O=lt,k=0,G=U;G;G=mt(G))k++;G=0;for(var ct=O;ct;ct=mt(ct))G++;for(;0<k-G;)U=mt(U),k--;for(;0<G-k;)O=mt(O),G--;for(;k--;){if(U===O||O!==null&&U===O.alternate){mt=U;break e}U=mt(U),O=mt(O)}mt=null}else mt=null;j!==null&&Py(F,z,j,mt,!1),lt!==null&&Jt!==null&&Py(F,Jt,lt,mt,!0)}}t:{if(z=P?hn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Pt=eg;else if(Wm(z))if(ng)Pt=H0;else{Pt=j0;var ut=B0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&$s(P.elementType)&&(Pt=eg):Pt=q0;if(Pt&&(Pt=Pt(e,P))){tg(F,Pt,r,q);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&vo(z,"number",z.value)}switch(ut=P?hn(P):window,e){case"focusin":(Wm(ut)||ut.contentEditable==="true")&&(aa=ut,Dh=P,Oo=null);break;case"focusout":Oo=Dh=aa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,cg(F,r,q);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":cg(F,r,q)}var bt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else sa?ms(e,r)&&(Dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(gi&&r.locale!=="ko"&&(sa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&sa&&(bt=bo()):(hi=q,So="value"in hi?hi.value:hi.textContent,sa=!0)),ut=ic(P,Dt),0<ut.length&&(Dt=new mi(Dt,e,null,r,q),F.push({event:Dt,listeners:ut}),bt?Dt.data=bt:(bt=ra(r),bt!==null&&(Dt.data=bt)))),(bt=bn?L0(e,r):k0(e,r))&&(Dt=ic(P,"onBeforeInput"),0<Dt.length&&(ut=new mi("onBeforeInput","beforeinput",null,r,q),F.push({event:ut,listeners:Dt}),ut.data=bt)),CA(F,e,P,r,q)}Ly(F,n)})}function nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ic(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,r),h!=null&&o.unshift(nl(e,h,f)),h=Bn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function VA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Py(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Bn(r,f),P!=null&&g.unshift(nl(r,P,R))):h||(P=Bn(r,f),P!=null&&g.push(nl(r,P,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var MA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(MA,`
`).replace(xA,"")}function By(e,n){return n=zy(n),zy(e)===n}function Xt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,r,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ws(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ws(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ws(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Js(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Js(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=iu.get(r)||r,Js(e,r,o))}}function nd(e,n,r,o,h,f){switch(r){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Js(e,r,o)}}}function He(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,r,null)}}h&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var q=r[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":R=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Xt(e,n,o,q,r,null)}}tu(e,f,E,R,P,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?rr(e,!!o,n,!1):r!=null&&rr(e,!!o,r,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,r,null)}sr(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(e,n,R,o,r,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)It(el[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,P,o,r,null)}return;default:if($s(n)){for(q in r)r.hasOwnProperty(q)&&(o=r[q],o!==void 0&&nd(e,n,q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function UA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,q=null;for(j in r){var F=r[j];if(r.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=F;default:o.hasOwnProperty(j)||Xt(e,n,j,null,o,F)}}for(var z in o){var j=o[z];if(F=r[z],o.hasOwnProperty(z)&&(j!=null||F!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==F&&Xt(e,n,z,j,o,F)}}Zs(e,g,E,R,P,q,f,h);return;case"select":j=g=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,r=g,o=j,z!=null?rr(e,!!r,z,!1):!!o!=!!r&&(n!=null?rr(e,!!r,n,!0):rr(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}eu(e,z,j);return;case"option":for(var lt in r)z=r[lt],r.hasOwnProperty(lt)&&z!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Xt(e,n,lt,null,o,z));for(R in o)z=o[R],j=r[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Xt(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Xt(e,n,mt,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,P,z,o,j)}return;default:if($s(n)){for(var Jt in r)z=r[Jt],r.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&nd(e,n,Jt,void 0,o,z);for(q in o)z=o[q],j=r[q],!o.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||nd(e,n,q,z,o,j);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,z);for(F in o)z=o[F],j=r[F],!o.hasOwnProperty(F)||z===j||z==null&&j==null||Xt(e,n,F,z,o,j)}function jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&jy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var q=R.transferSize,F=R.initiatorType;q&&jy(F)&&(R=R.responseEnd,g+=q*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,rd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function kA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,zA=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(BA)}:Gy;function BA(e){setTimeout(function(){throw e})}function Cr(e){return e==="head"}function Qy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")il(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,il(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&il(e.ownerDocument.body);r=h}while(r);Ma(n)}function Ky(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":od(r),Xs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function jA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function qA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function Yy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function HA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function Xy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Jy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Zy(e,n,r){switch(n=rc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xs(e)}var Vn=new Map,$y=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=$.d;$.d={f:GA,r:FA,D:QA,C:KA,L:YA,m:XA,X:ZA,S:JA,M:$A};function GA(){var e=Fi.f(),n=Ju();return e||n}function FA(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?gp(n):Fi.r(e)}var Na=typeof document>"u"?null:document;function Wy(e,n,r){var o=Na;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function QA(e){Fi.D(e),Wy("dns-prefetch",e,null)}function KA(e,n){Fi.C(e,n),Wy("preconnect",e,n)}function YA(e,n,r){Fi.L(e,n,r);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Oa(e);break;case"script":f=Va(e)}Vn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function XA(e,n){Fi.m(e,n);var r=Na;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Vn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Vn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sl(f)))return}o=r.createElement("link"),He(o,"link",e),_e(o),r.head.appendChild(o)}}}function JA(e,n,r){Fi.S(e,n,r);var o=Na;if(o&&e){var h=ai(o).hoistableStyles,f=Oa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(rl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(f))&&hd(e,r);var R=g=o.createElement("link");_e(R),He(R,"link",e),R._p=new Promise(function(P,q){R.onload=P,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ZA(e,n){Fi.X(e,n);var r=Na;if(r&&e){var o=ai(r).hoistableScripts,h=Va(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=b({src:e,async:!0},n),(n=Vn.get(h))&&fd(e,n),f=r.createElement("script"),_e(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $A(e,n){Fi.M(e,n);var r=Na;if(r&&e){var o=ai(r).hoistableScripts,h=Va(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&fd(e,n),f=r.createElement("script"),_e(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function t_(e,n,r,o){var h=(h=St.current)?sc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Oa(r.href),r=ai(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Oa(r.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),f||WA(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(r),r=ai(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oa(e){return'href="'+en(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function e_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function WA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",r),_e(n),e.head.appendChild(n))}function Va(e){return'[src="'+en(e)+'"]'}function sl(e){return"script[async]"+e}function n_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),He(o,"style",h),ac(o,r.precedence,e),n.instance=o;case"stylesheet":h=Oa(r.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=e_(r),(h=Vn.get(h))&&hd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),n.state.loading|=4,ac(f,r.precedence,e),n.instance=f;case"script":return f=Va(r.src),(h=e.querySelector(sl(f)))?(n.instance=h,_e(h),h):(o=r,(h=Vn.get(f))&&(o=b({},r),fd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,r.precedence,e));return n.instance}function ac(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function i_(e,n,r){if(oc===null){var o=new Map,h=oc=new Map;h.set(r,o)}else h=oc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function r_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function tS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Oa(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=e_(o),(h=Vn.get(h))&&hd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=lc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var dd=0;function nS(e,n){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*LA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,n.forEach(iS,e),uc=null,lc.call(e))}function iS(e,n){if(!(n.state.loading&4)){var r=uc.get(e);if(r)var o=r.get(null);else{r=new Map,uc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:ot,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function rS(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function a_(e,n,r,o,h,f,g,E,R,P,q,F){return e=new rS(e,n,r,g,R,P,q,F,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Xh(f),e}function o_(e){return e?(e=ua,e):ua}function l_(e,n,r,o,h,f){h=o_(h),o.context===null?o.context=h:o.pendingContext=h,o=yr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=_r(e,o,n),r!==null&&(ln(r,e,n),Po(r,e,n))}function u_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function md(e,n){u_(e,n),(e=e.alternate)&&u_(e,n)}function c_(e){if(e.tag===13||e.tag===31){var n=ys(e,67108864);n!==null&&ln(n,e,67108864),md(e,67108864)}}function h_(e){if(e.tag===13||e.tag===31){var n=vn();n=ss(n);var r=ys(e,n);r!==null&&ln(r,e,n),md(e,n)}}var hc=!0;function sS(e,n,r,o){var h=H.T;H.T=null;var f=$.p;try{$.p=2,gd(e,n,r,o)}finally{$.p=f,H.T=h}}function aS(e,n,r,o){var h=H.T;H.T=null;var f=$.p;try{$.p=8,gd(e,n,r,o)}finally{$.p=f,H.T=h}}function gd(e,n,r,o){if(hc){var h=pd(o);if(h===null)ed(e,n,o,fc,r),d_(e,o);else if(lS(h,e,n,r,o))o.stopPropagation();else if(d_(e,o),n&4&&-1<oS.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}vi(f),(jt&6)===0&&(Yu=$e()+500,tl(0))}}break;case 31:case 13:E=ys(f,2),E!==null&&ln(E,f,2),Ju(),md(f,2)}if(f=pd(o),f===null&&ed(e,n,o,fc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ed(e,n,o,null,r)}}function pd(e){return e=An(e),yd(e)}var fc=null;function yd(e){if(fc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function f_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case lo:return 2;case uo:return 8;case nr:case Ah:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var _d=!1,Dr=null,Nr=null,Or=null,ol=new Map,ll=new Map,Vr=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(e,n){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&c_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lS(e,n,r,o,h){switch(n){case"focusin":return Dr=ul(Dr,e,n,r,o,h),!0;case"dragenter":return Nr=ul(Nr,e,n,r,o,h),!0;case"mouseover":return Or=ul(Or,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,r,o,h)),!0}return!1}function m_(e){var n=si(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,kn(e.priority,function(){h_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,kn(e.priority,function(){h_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=pd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ao=o,r.target.dispatchEvent(o),Ao=null}else return n=Tn(r),n!==null&&c_(n),e.blockedOn=r,!1;n.shift()}return!0}function g_(e,n,r){dc(e)&&r.delete(n)}function uS(){_d=!1,Dr!==null&&dc(Dr)&&(Dr=null),Nr!==null&&dc(Nr)&&(Nr=null),Or!==null&&dc(Or)&&(Or=null),ol.forEach(g_),ll.forEach(g_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,uS)))}var gc=null;function p_(e){gc!==e&&(gc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(yd(o||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,pf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ma(e){function n(R){return mc(R,e)}Dr!==null&&mc(Dr,e),Nr!==null&&mc(Nr,e),Or!==null&&mc(Or,e),ol.forEach(n),ll.forEach(n);for(var r=0;r<Vr.length;r++){var o=Vr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)m_(r),r.blockedOn===null&&Vr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Me]||null;if(typeof f=="function")g||p_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(yd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),p_(r)}}}function y_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function vd(e){this._internalRoot=e}pc.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=vn();l_(r,o,e,n,null,null)},pc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;l_(e.current,2,null,e,null,null),Ju(),n[ii]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vr.length&&n!==0&&n<Vr[r].priority;r++);Vr.splice(r,0,e),r===0&&m_(e)}};var __=t.version;if(__!=="19.2.4")throw Error(a(527,__,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Un=yc.inject(cS),Pe=yc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=wp,f=Rp,g=Ip;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=a_(e,1,!1,null,null,r,o,null,h,f,g,y_),e[ii]=n.current,td(e),new vd(n)},hl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=wp,g=Rp,E=Ip,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=a_(e,1,!0,n,r??null,o,h,R,f,g,E,y_),n.context=o_(null),r=n.current,o=vn(),o=ss(o),h=yr(o),h.callback=null,_r(r,h,o),r=o,n.current.lanes=r,is(n,r),vi(n),e[ii]=n.current,td(e),new pc(n)},hl.version="19.2.4",hl}var C_;function ES(){if(C_)return Ad.exports;C_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ad.exports=vS(),Ad.exports}var TS=ES();const hE=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const AS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const SS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const D_=s=>{const t=SS(s);return t.charAt(0).toUpperCase()+t.slice(1)};var bS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const RS=Le.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>Le.createElement("svg",{ref:v,...bS,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:hE("lucide",l),...!c&&!wS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Le.createElement(_,A)),...Array.isArray(c)?c:[c]]));const nh=(s,t)=>{const i=Le.forwardRef(({className:a,...l},c)=>Le.createElement(RS,{ref:c,iconNode:t,className:hE(`lucide-${AS(D_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=D_(s),i};const IS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CS=nh("circle-check-big",IS);const DS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rd=nh("loader-circle",DS);const NS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],OS=nh("phone",NS);const VS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Id=nh("sparkles",VS),MS=()=>{};var N_={};const fE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},xS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},dE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,K=_&63;v||(K=64,d||(x=64)),a.push(i[A],i[b],i[x],i[K])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(fE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):xS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new US;const x=c<<2|p>>4;if(a.push(x),_!==64){const K=p<<4&240|_>>2;if(a.push(K),b!==64){const Z=_<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class US extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(s){const t=fE(s);return dE.encodeByteArray(t,!0)},Uc=function(s){return LS(s).replace(/\./g,"")},mE=function(s){try{return dE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PS=()=>kS().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof N_>"u")return;const s=N_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&mE(s[1]);return t&&JSON.parse(t)},ih=()=>{try{return MS()||PS()||zS()||BS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},gE=s=>ih()?.emulatorHosts?.[s],jS=s=>{const t=gE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},pE=()=>ih()?.config,yE=s=>ih()?.[`_${s}`];class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Za(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _E(s){return(await fetch(s,{credentials:"include"})).ok}function HS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const yl={};function GS(){const s={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?s.emulator.push(t):s.prod.push(t);return s}function FS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let O_=!1;function vE(s,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||yl[s]===t||yl[s]||O_)return;yl[s]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=GS().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,K){x.setAttribute("width","24"),x.setAttribute("id",K),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{O_=!0,d()},x}function A(x,K){x.setAttribute("id",K),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=FS(a),K=i("text"),Z=document.getElementById(K)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),ft=i("preprendIcon"),it=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ot=x.element;p(ot),A(tt,et);const wt=_();v(it,ft),ot.append(it,Z,tt,wt),document.body.appendChild(ot)}c?(Z.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function KS(){const s=ih()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function JS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $S(){return!KS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function t1(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const e1="FirebaseError";class tr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=e1,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?n1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new tr(l,p,a)}}function n1(s,t){return s.replace(i1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const i1=/\{\$([^}]+)}/g;function r1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function xs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(V_(c)&&V_(d)){if(!xs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function V_(s){return s!==null&&typeof s=="object"}function Ml(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function s1(s,t){const i=new a1(s,t);return i.subscribe.bind(i)}class a1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");o1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Cd(){}function cn(s){return s&&s._delegate?s._delegate:s}class Us{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ns="[DEFAULT]";class l1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new qS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(c1(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ns){return this.instances.has(t)}getOptions(t=Ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:u1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ns){return this.component?this.component.multipleInstances?t:Ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u1(s){return s===Ns?void 0:s}function c1(s){return s.instantiationMode==="EAGER"}class h1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new l1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const f1={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},d1=Nt.INFO,m1={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},g1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=m1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=d1,this._logHandler=g1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?f1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const p1=(s,t)=>t.some(i=>s instanceof i);let M_,x_;function y1(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,Bd=new WeakMap,TE=new WeakMap,Dd=new WeakMap,dm=new WeakMap;function v1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Br(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&EE.set(i,s)}).catch(()=>{}),dm.set(t,s),t}function E1(s){if(Bd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Bd.set(s,t)}let jd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Bd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||TE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function T1(s){jd=s(jd)}function A1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Nd(this),t,...i);return TE.set(a,t.sort?t.sort():[t]),Br(a)}:_1().includes(s)?function(...t){return s.apply(Nd(this),t),Br(EE.get(this))}:function(...t){return Br(s.apply(Nd(this),t))}}function S1(s){return typeof s=="function"?A1(s):(s instanceof IDBTransaction&&E1(s),p1(s,y1())?new Proxy(s,jd):s)}function Br(s){if(s instanceof IDBRequest)return v1(s);if(Dd.has(s))return Dd.get(s);const t=S1(s);return t!==s&&(Dd.set(s,t),dm.set(t,s)),t}const Nd=s=>dm.get(s);function b1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Br(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Br(d.result),v.oldVersion,v.newVersion,Br(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const w1=["get","getKey","getAll","getAllKeys","count"],R1=["put","add","delete","clear"],Od=new Map;function U_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=R1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||w1.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Od.set(t,c),c}T1(s=>({...s,get:(t,i,a)=>U_(t,i)||s.get(t,i,a),has:(t,i)=>!!U_(t,i)||s.has(t,i)}));class I1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(C1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function C1(s){return s.getComponent()?.type==="VERSION"}const qd="@firebase/app",L_="0.14.8";const Xi=new fm("@firebase/app"),D1="@firebase/app-compat",N1="@firebase/analytics-compat",O1="@firebase/analytics",V1="@firebase/app-check-compat",M1="@firebase/app-check",x1="@firebase/auth",U1="@firebase/auth-compat",L1="@firebase/database",k1="@firebase/data-connect",P1="@firebase/database-compat",z1="@firebase/functions",B1="@firebase/functions-compat",j1="@firebase/installations",q1="@firebase/installations-compat",H1="@firebase/messaging",G1="@firebase/messaging-compat",F1="@firebase/performance",Q1="@firebase/performance-compat",K1="@firebase/remote-config",Y1="@firebase/remote-config-compat",X1="@firebase/storage",J1="@firebase/storage-compat",Z1="@firebase/firestore",$1="@firebase/ai",W1="@firebase/firestore-compat",tb="firebase",eb="12.9.0";const Hd="[DEFAULT]",nb={[qd]:"fire-core",[D1]:"fire-core-compat",[O1]:"fire-analytics",[N1]:"fire-analytics-compat",[M1]:"fire-app-check",[V1]:"fire-app-check-compat",[x1]:"fire-auth",[U1]:"fire-auth-compat",[L1]:"fire-rtdb",[k1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[z1]:"fire-fn",[B1]:"fire-fn-compat",[j1]:"fire-iid",[q1]:"fire-iid-compat",[H1]:"fire-fcm",[G1]:"fire-fcm-compat",[F1]:"fire-perf",[Q1]:"fire-perf-compat",[K1]:"fire-rc",[Y1]:"fire-rc-compat",[X1]:"fire-gcs",[J1]:"fire-gcs-compat",[Z1]:"fire-fst",[W1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[tb]:"fire-js-all"};const Lc=new Map,ib=new Map,Gd=new Map;function k_(s,t){try{s.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Fa(s){const t=s.name;if(Gd.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;Gd.set(t,s);for(const i of Lc.values())k_(i,s);for(const i of ib.values())k_(i,s);return!0}function mm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Kn(s){return s==null?!1:s.settings!==void 0}const rb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Vl("app","Firebase",rb);class sb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const $a=eb;function AE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Hd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(i||(i=pE()),!i)throw jr.create("no-options");const c=Lc.get(l);if(c){if(xs(i,c.options)&&xs(a,c.config))return c;throw jr.create("duplicate-app",{appName:l})}const d=new h1(l);for(const v of Gd.values())d.addComponent(v);const p=new sb(i,a,d);return Lc.set(l,p),p}function SE(s=Hd){const t=Lc.get(s);if(!t&&s===Hd&&pE())return AE();if(!t)throw jr.create("no-app",{appName:s});return t}function qr(s,t,i){let a=nb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}Fa(new Us(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ab="firebase-heartbeat-database",ob=1,bl="firebase-heartbeat-store";let Vd=null;function bE(){return Vd||(Vd=b1(ab,ob,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw jr.create("idb-open",{originalErrorMessage:s.message})})),Vd}async function lb(s){try{const i=(await bE()).transaction(bl),a=await i.objectStore(bl).get(wE(s));return await i.done,a}catch(t){if(t instanceof tr)Xi.warn(t.message);else{const i=jr.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(i.message)}}}async function P_(s,t){try{const a=(await bE()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,wE(s)),await a.done}catch(i){if(i instanceof tr)Xi.warn(i.message);else{const a=jr.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(a.message)}}}function wE(s){return`${s.name}!${s.options.appId}`}const ub=1024,cb=30;class hb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new db(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cb){const l=mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=z_(),{heartbeatsToSend:i,unsentEntries:a}=fb(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xi.warn(t),""}}}function z_(){return new Date().toISOString().substring(0,10)}function fb(s,t=ub){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),B_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),B_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class db{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?t1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return P_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return P_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function B_(s){return Uc(JSON.stringify({version:2,heartbeats:s})).length}function mb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function gb(s){Fa(new Us("platform-logger",t=>new I1(t),"PRIVATE")),Fa(new Us("heartbeat",t=>new hb(t),"PRIVATE")),qr(qd,L_,s),qr(qd,L_,"esm2020"),qr("fire-js","")}gb("");var pb="firebase",yb="12.9.0";qr(pb,yb,"app");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,RE;(function(){var s;function t(D,S){function C(){}C.prototype=S.prototype,D.F=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(I,N,M){for(var w=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)w[Zt-2]=arguments[Zt];return S.prototype[N].apply(I,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,S,C){C||(C=0);const I=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)I[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)I[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],N=D.g[2];let M=D.g[3],w;w=S+(M^C&(N^M))+I[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=M+(N^S&(C^N))+I[1]+3905402710&4294967295,M=S+(w<<12&4294967295|w>>>20),w=N+(C^M&(S^C))+I[2]+606105819&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(S^N&(M^S))+I[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(M^C&(N^M))+I[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=M+(N^S&(C^N))+I[5]+1200080426&4294967295,M=S+(w<<12&4294967295|w>>>20),w=N+(C^M&(S^C))+I[6]+2821735955&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(S^N&(M^S))+I[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(M^C&(N^M))+I[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=M+(N^S&(C^N))+I[9]+2336552879&4294967295,M=S+(w<<12&4294967295|w>>>20),w=N+(C^M&(S^C))+I[10]+4294925233&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(S^N&(M^S))+I[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(M^C&(N^M))+I[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=M+(N^S&(C^N))+I[13]+4254626195&4294967295,M=S+(w<<12&4294967295|w>>>20),w=N+(C^M&(S^C))+I[14]+2792965006&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(S^N&(M^S))+I[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(N^M&(C^N))+I[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(S^C))+I[6]+3225465664&4294967295,M=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(M^S))+I[11]+643717713&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^S&(N^M))+I[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^M&(C^N))+I[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(S^C))+I[10]+38016083&4294967295,M=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(M^S))+I[15]+3634488961&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^S&(N^M))+I[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^M&(C^N))+I[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(S^C))+I[14]+3275163606&4294967295,M=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(M^S))+I[3]+4107603335&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^S&(N^M))+I[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^M&(C^N))+I[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(S^C))+I[2]+4243563512&4294967295,M=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(M^S))+I[7]+1735328473&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^S&(N^M))+I[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(C^N^M)+I[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=M+(S^C^N)+I[8]+2272392833&4294967295,M=S+(w<<11&4294967295|w>>>21),w=N+(M^S^C)+I[11]+1839030562&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^S)+I[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^M)+I[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=M+(S^C^N)+I[4]+1272893353&4294967295,M=S+(w<<11&4294967295|w>>>21),w=N+(M^S^C)+I[7]+4139469664&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^S)+I[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^M)+I[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=M+(S^C^N)+I[0]+3936430074&4294967295,M=S+(w<<11&4294967295|w>>>21),w=N+(M^S^C)+I[3]+3572445317&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^S)+I[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^M)+I[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=M+(S^C^N)+I[12]+3873151461&4294967295,M=S+(w<<11&4294967295|w>>>21),w=N+(M^S^C)+I[15]+530742520&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^S)+I[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(N^(C|~M))+I[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=M+(C^(S|~N))+I[7]+1126891415&4294967295,M=S+(w<<10&4294967295|w>>>22),w=N+(S^(M|~C))+I[14]+2878612391&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~S))+I[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~M))+I[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=M+(C^(S|~N))+I[3]+2399980690&4294967295,M=S+(w<<10&4294967295|w>>>22),w=N+(S^(M|~C))+I[10]+4293915773&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~S))+I[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~M))+I[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=M+(C^(S|~N))+I[15]+4264355552&4294967295,M=S+(w<<10&4294967295|w>>>22),w=N+(S^(M|~C))+I[6]+2734768916&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~S))+I[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~M))+I[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=M+(C^(S|~N))+I[11]+3174756917&4294967295,M=S+(w<<10&4294967295|w>>>22),w=N+(S^(M|~C))+I[2]+718787259&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~S))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+M&4294967295}a.prototype.v=function(D,S){S===void 0&&(S=D.length);const C=S-this.blockSize,I=this.C;let N=this.h,M=0;for(;M<S;){if(N==0)for(;M<=C;)l(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<S;)if(I[N++]=D.charCodeAt(M++),N==this.blockSize){l(this,I),N=0;break}}else for(;M<S;)if(I[N++]=D[M++],N==this.blockSize){l(this,I),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)D[S++]=this.g[C]>>>I&255;return D};function c(D,S){var C=p;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function d(D,S){this.h=S;const C=[];let I=!0;for(let N=D.length-1;N>=0;N--){const M=D[N]|0;I&&M==S||(C[N]=M,I=!1)}this.g=C}var p={};function v(D){return-128<=D&&D<128?c(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return tt(_(-D));const S=[];let C=1;for(let I=0;D>=C;I++)S[I]=D/C|0,C*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return tt(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let I=b;for(let M=0;M<D.length;M+=8){var N=Math.min(8,D.length-M);const w=parseInt(D.substring(M,M+N),S);N<8?(N=_(Math.pow(S,N)),I=I.j(N).add(_(w))):(I=I.j(C),I=I.add(_(w)))}return I}var b=v(0),x=v(1),K=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-tt(this).m();let D=0,S=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);D+=(I>=0?I:4294967296+I)*S,S*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Z(this))return"0";if(et(this))return"-"+tt(this).toString(D);const S=_(Math.pow(D,6));var C=this;let I="";for(;;){const N=wt(C,S).g;C=ft(C,N.j(S));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=N,Z(C))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Z(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function et(D){return D.h==-1}s.l=function(D){return D=ft(this,D),et(D)?-1:Z(D)?0:1};function tt(D){const S=D.g.length,C=[];for(let I=0;I<S;I++)C[I]=~D.g[I];return new d(C,~D.h).add(x)}s.abs=function(){return et(this)?tt(this):this},s.add=function(D){const S=Math.max(this.g.length,D.g.length),C=[];let I=0;for(let N=0;N<=S;N++){let M=I+(this.i(N)&65535)+(D.i(N)&65535),w=(M>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);I=w>>>16,M&=65535,w&=65535,C[N]=w<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(D,S){return D.add(tt(S))}s.j=function(D){if(Z(this)||Z(D))return b;if(et(this))return et(D)?tt(this).j(tt(D)):tt(tt(this).j(D));if(et(D))return tt(this.j(tt(D)));if(this.l(K)<0&&D.l(K)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,C=[];for(var I=0;I<2*S;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<D.g.length;N++){const M=this.i(I)>>>16,w=this.i(I)&65535,Zt=D.i(N)>>>16,Ie=D.i(N)&65535;C[2*I+2*N]+=w*Ie,it(C,2*I+2*N),C[2*I+2*N+1]+=M*Ie,it(C,2*I+2*N+1),C[2*I+2*N+1]+=w*Zt,it(C,2*I+2*N+1),C[2*I+2*N+2]+=M*Zt,it(C,2*I+2*N+2)}for(D=0;D<S;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=S;D<2*S;D++)C[D]=0;return new d(C,0)};function it(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function ot(D,S){this.g=D,this.h=S}function wt(D,S){if(Z(S))throw Error("division by zero");if(Z(D))return new ot(b,b);if(et(D))return S=wt(tt(D),S),new ot(tt(S.g),tt(S.h));if(et(S))return S=wt(D,tt(S)),new ot(tt(S.g),S.h);if(D.g.length>30){if(et(D)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var C=x,I=S;I.l(D)<=0;)C=te(C),I=te(I);var N=xt(C,1),M=xt(I,1);for(I=xt(I,2),C=xt(C,2);!Z(I);){var w=M.add(I);w.l(D)<=0&&(N=N.add(C),M=w),I=xt(I,1),C=xt(C,1)}return S=ft(D,N.j(S)),new ot(N,S)}for(N=b;D.l(S)>=0;){for(C=Math.max(1,Math.floor(D.m()/S.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=_(C),w=M.j(S);et(w)||w.l(D)>0;)C-=I,M=_(C),w=M.j(S);Z(M)&&(M=x),N=N.add(M),D=ft(D,w)}return new ot(N,D)}s.B=function(D){return wt(this,D).h},s.and=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<S;I++)C[I]=this.i(I)&D.i(I);return new d(C,this.h&D.h)},s.or=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<S;I++)C[I]=this.i(I)|D.i(I);return new d(C,this.h|D.h)},s.xor=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<S;I++)C[I]=this.i(I)^D.i(I);return new d(C,this.h^D.h)};function te(D){const S=D.g.length+1,C=[];for(let I=0;I<S;I++)C[I]=D.i(I)<<1|D.i(I-1)>>>31;return new d(C,D.h)}function xt(D,S){const C=S>>5;S%=32;const I=D.g.length-C,N=[];for(let M=0;M<I;M++)N[M]=S>0?D.i(M+C)>>>S|D.i(M+C+1)<<32-S:D.i(M+C);return new d(N,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,RE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Hr=d}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IE,dl,CE,wc,Fd,DE,NE,OE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,J)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=L[J]}else u.push(L)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class it{constructor(){this.h=this.g=null}add(m,y){const T=ot.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ot=new et(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,xt=!1,D=new it,S=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(y){tt(y)}var m=ot;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Zt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Zt,N),Zt.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function $(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<Q.length;B++)y=Q[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=St(u,m,T,L);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new $(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function yt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(dt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function St(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],y,T,L);return null}return y=oo(y),u&&u[Ie]?u.J(m,y,p(T)?!!T.capture:!1,L):Wr(u,m,y,!1,T,L)}function Wr(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const J=p(L)?!!L.capture:!!L;let Tt=ts(u);if(Tt||(u[Ut]=Tt=new st(u)),y=Tt.add(m,y,T,J,B),y.proxy)return y;if(T=Gs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)M||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Gs(){function u(y){return m.call(u.src,u.listener,y)}const m=so;return u}function Fs(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fs(u,m[B],y,T,L);else T=p(T)?!!T.capture:!!T,y=oo(y),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=St(m,y,T,L),y>-1&&(dt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ts(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,y,T,L)),(y=u>-1?m[u]:null)&&Qs(y))}function Qs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])yt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent($n(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ts(m))?(yt(y,u),y.h==0&&(y.src=null,m[Ut]=null)):dt(u)}}}function $n(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function so(u,m){if(u.da)u=!0;else{m=new Zt(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Qs(u),u=y.call(T,m)}return u}function ts(u){return u=u[Ut],u instanceof st?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function ge(){I.call(this),this.i=new st(this),this.M=this,this.G=null}b(ge,I),ge.prototype[Ie]=!0,ge.prototype.removeEventListener=function(u,m,y,T){Fs(this,u,m,y,T)};function De(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),W(m,L)}L=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],L=er(B,T,!0,m)&&L;if(B=m.g=u,L=er(B,T,!0,m)&&L,L=er(B,T,!1,m)&&L,y)for(J=0;J<y.length;J++)B=m.g=y[J],L=er(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)dt(y[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ge.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function er(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const Tt=J.listener,he=J.ha||J.src;J.fa&&yt(u.i,J),L=Tt.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function Th(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hl(u){u.g=Th(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends I{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){I.call(this),this.h=u,this.g={}}b(es,I);var lo=[];function uo(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Qs(m)},u),u.g={}}es.prototype.N=function(){es.Z.N.call(this),uo(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,Ah=d.JSON.parse,Gl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fl(){}function Ql(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}b(Pe,N);function En(){N.call(this,"c")}b(En,N);var ce={},Kl=null;function Ks(){return Kl=Kl||new ge}ce.Ia="serverreachability";function Yl(u){N.call(this,ce.Ia,u)}b(Yl,N);function Wn(u){const m=Ks();De(m,new Yl(m))}ce.STAT_EVENT="statevent";function ns(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}b(ns,N);function pe(u){const m=Ks();De(m,new ns(m,u))}ce.Ja="timingevent";function ti(u,m){N.call(this,ce.Ja,u),this.size=m}b(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Sh(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var J="",Tt=B.split("&");for(let Bt=0;Bt<Tt.length;Bt++){var he=Tt[Bt].split("=");if(he.length>1){const se=he[0];he=he[1];const bn=se.split("_");J=bn.length>=2&&bn[1]=="type"?J+(se+"="+he+"&"):J+(se+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+J})}function Xl(u,m,y,T,L,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+J})}function ni(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bh(u,y)+(T?" "+T:"")})}function is(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return nr(B)}catch{return m}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function ss(){}b(ss,Fl),ss.prototype.g=function(){return new XMLHttpRequest},ho=new ss;function Ii(u){return encodeURIComponent(String(u))}function Jl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function kn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ii(u,m,y){u.M=1,u.A=as(ve(m)),u.u=y,u.R=!0,Ys(u,null)}function Ys(u,m){u.F=Date.now(),ri(u),u.B=ve(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$s(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Pn,u.g=hu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(lo[0]=L.toString()),L=lo);for(let B=0;B<L.length;B++){const J=re(y,L[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Sh(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=jn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||he==7||(he==8||Bt<=0?Wn(3):Wn(2)),si(this);var m=this.g.ca();this.X=m;var y=wh(this);if(this.o=m==200,Xl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,pe(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=$l(this,y),se==Me){Tt==4&&(this.m=4,pe(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ni(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,se,null),ai(this,se);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||y.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,y,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Io(J),J.P=!0,pe(11))}}else ni(this.i,this.l,y,null),ai(this,y);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?ou(this.j,this):(this.o=!1,ri(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),hn(this),Tn(this)}}}catch{}};function wh(u){if(!Zl(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let y="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Zl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $l(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Me:(y=Number(m.substring(y,T)),isNaN(y)?ye:(T+=1,T+y>m.length?Me:(m=m.slice(T,T+y),u.C=T+y,m)))}kn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(u){u.T=Date.now()+u.H,Xs(u,u.H)}function Xs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(is(this.i,this.B),this.M!=2&&(Wn(),pe(17)),hn(this),this.m=2,Tn(this)):Xs(this,this.T-u)};function Tn(u){u.j.I==0||u.K||ou(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||li(y.h,u))){if(!u.L&&li(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ia(y),cr(y);else break t;ds(y),pe(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ei(_(y.Va,y),6e3));oi(y.h)<=1&&y.ta&&(y.ta=void 0)}else mi(y,11)}else if((u.L||y.g==u)&&ia(y),!w(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const se=Bt[0];if(!(se<=y.K))if(y.K=se,Bt=Bt[1],y.I==2)if(Bt[0]=="c"){y.M=Bt[1],y.ba=Bt[2];const bn=Bt[3];bn!=null&&(y.ka=bn,y.j.info("VER="+y.ka));const gi=Bt[4];gi!=null&&(y.za=gi,y.j.info("SVER="+y.za));const qn=Bt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Hn=u.g;if(Hn){const ms=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var B=T.h;B.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(T.G){const ra=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(T.wa=ra,Gt(T.J,T.G,ra))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=cu(T,T.L?T.ba:null,T.W),J.L){po(T.h,J);var Tt=J,he=T.O;he&&(Tt.H=he),Tt.D&&(si(Tt),ri(Tt)),T.g=J}else su(T);y.i.length>0&&di(y)}else Bt[0]!="stop"&&Bt[0]!="close"||mi(y,7);else y.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?mi(y,7):wo(y):Bt[0]!="noop"&&y.l&&y.l.qa(Bt),y.A=0)}}Wn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return K(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,ir(this,u.u),this.h=u.h,_o(this,iu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),ir(this,m[4]),this.h=ui(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(os(m,Zs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(os(m,Zs,!0),"@"),u.push(Ii(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(os(y,y.charAt(0)=="/"?vo:tu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",os(y,eu)),u.join("")},fn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?xe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ir(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let J=0;J<L.length;){const Tt=L[J++];Tt=="."?T&&J==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?_o(m,iu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new fn(u)}function xe(u,m,y){u.j=y?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ir(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,y){m instanceof sr?(u.i=m,Ws(u.i,u.l)):(y||(m=os(m,rr)),u.i=new sr(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function as(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function os(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,tu=/[#\?:]/g,vo=/[#\?]/g,rr=/[#\?@]/g,eu=/#/g;function sr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Js(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=sr.prototype,s.add=function(u,m){nn(this),this.i=null,u=ar(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function nu(u,m){nn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return nn(u),m=ar(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function To(u,m){nn(u);let y=[];if(typeof m=="string")Eo(u,m)&&(y=y.concat(u.g.get(ar(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return nn(this),this.i=null,u=ar(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function $s(u,m,y){nu(u,m),y.length>0&&(u.i=null,u.g.set(ar(u,m),K(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Ii(y);y=To(this,y);for(let B=0;B<y.length;B++){let J=L;y[B]!==""&&(J+="="+Ii(y[B])),u.push(J)}}return this.i=u.join("&")};function iu(u){const m=new sr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ws(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(nu(this,T),$s(this,L,y))},u)),u.j=m}function zn(u,m){const y=new Ln;if(d.Image){const T=new Image;T.onload=A(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,y,"TestLoadImage: error",!1,m,T),T.onabort=A(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ao(u,m){const y=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function or(){this.g=new Gl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ci,Fl),ci.prototype.g=function(){return new ls(this.i,this.h)};function ls(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ls,ge),s=ls.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lr(this):Bn(this),this.readyState==3&&ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,lr(this))},s.Na=function(u){this.g&&(this.response=u,lr(this))},s.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return kt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function us(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Sn(y),typeof u=="string"?y!=null&&Ii(y):Gt(u,m,y))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,ge);var hi=/^https?$/i,So=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){cs(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){cs(this,B)}};function cs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bo(u),Ci(u)}function bo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ci(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?hs(this):this.Xa())},s.Xa=function(){hs(this)};function hs(u){if(u.h&&typeof c<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match(Wl)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!hi.test(J?J.toLowerCase():"")}y=T}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",bo(u)}}finally{Ci(u)}}}}function Ci(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=Jl(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ur(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new or,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ur.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){pe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=cu(this,null,this.W),di(this)};function wo(u){if(ea(u),u.I==3){var m=u.V++,y=ve(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),fs(u,y),m=new kn(u,u.j,m),m.M=2,m.A=as(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=hu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}uu(u)}function cr(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function ea(u){cr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||S(),xt||(te(),xt=!0),D.add(m,u),u.D=0}}function na(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(_(u.Ea,u,m),lu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=ru(this,L,m),y=ve(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),fs(this,y),B&&(this.R?m="headers="+Ii(Sn(B))+"&"+m:this.u&&us(y,this.u,B)),go(this.h,L),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),L.U=!0,ii(L,y,null)):ii(L,y,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var y;m?y=m.l:y=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),fs(u,T),u.u&&u.o&&us(T,u.u,u.o),y=new kn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ru(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,y),ii(y,T,m)}function fs(u,m){u.H&&kt(u.H,function(y,T){Gt(m,T,y)}),u.l&&kt({},function(y,T){Gt(m,T,y)})}function ru(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const he=["count="+y];Tt==-1?y>0?(Tt=L[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let Bt=!0;for(let se=0;se<y;se++){var B=L[se].g;const bn=L[se].map;if(B-=Tt,B<0)Tt=Math.max(0,L[se].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var J=bn instanceof Map?bn:Object.entries(bn);for(const[gi,qn]of J){let Hn=qn;p(qn)&&(Hn=nr(qn)),he.push(B+gi+"="+encodeURIComponent(Hn))}}catch(gi){throw he.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(bn)}}if(Bt){J=he.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||S(),xt||(te(),xt=!0),D.add(m,u),u.A=0}}function ds(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(_(u.Da,u),lu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),cr(this),au(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function au(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),fs(u,m),u.u&&u.o&&us(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=as(ve(m)),y.u=null,y.R=!0,Ys(y,u)}s.Va=function(){this.C!=null&&(this.C=null,cr(this),ds(this),pe(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var y=null;if(u.g==m){ia(u),Io(u),u.g=null;var T=2}else if(li(u.h,m))y=m.G,po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ks(),De(T,new ti(T,y)),di(u)}else su(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&na(u,m)||T==2&&ds(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function lu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),as(T),L?zn(T.toString(),y):Ao(T.toString(),y)}else pe(2);u.I=0,u.l&&u.l.pa(m),uu(u),ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function uu(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function cu(u,m,y){var T=y instanceof fn?ve(y):new fn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ir(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new fn(null);T&&xe(B,T),m&&(B.g=m),L&&ir(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),fs(u,T),T}function hu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ci({ab:y})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}s=fu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function hr(){}hr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}b(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){wo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=nr(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,We.Z.N.call(this)};function du(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(du,Pe);function mu(){En.call(this),this.status=1}b(mu,En);function Ni(u){this.g=u}b(Ni,fu),Ni.prototype.ra=function(){De(this.g,"a")},Ni.prototype.qa=function(u){De(this.g,new du(u))},Ni.prototype.pa=function(u){De(this.g,new mu)},Ni.prototype.oa=function(){De(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,OE=function(){return new hr},NE=function(){return Ks()},DE=ce,Fd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,wc=rs,co.COMPLETE="complete",CE=co,Ql.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,dl=Ql,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,IE=Kt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Wa="12.9.0";function _b(s){Wa=s}const Ls=new fm("@firebase/firestore");function xa(){return Ls.logLevel}function rt(s,...t){if(Ls.logLevel<=Nt.DEBUG){const i=t.map(gm);Ls.debug(`Firestore (${Wa}): ${s}`,...i)}}function Ji(s,...t){if(Ls.logLevel<=Nt.ERROR){const i=t.map(gm);Ls.error(`Firestore (${Wa}): ${s}`,...i)}}function ks(s,...t){if(Ls.logLevel<=Nt.WARN){const i=t.map(gm);Ls.warn(`Firestore (${Wa}): ${s}`,...i)}}function gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,VE(s,a,i)}function VE(s,t,i){let a=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ji(a),new Error(a)}function qt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||VE(t,l,a)}function Et(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends tr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ME{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class Eb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Tb{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new ME(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class Ab{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Sb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Ab(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new q_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=wb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function Qd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Md(l)===Md(c)?Ot(l,c):Md(l)?1:-1}return Ot(s.length,t.length)}const Rb=55296,Ib=57343;function Md(s){const t=s.charCodeAt(0);return t>=Rb&&t<=Ib}function Qa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const H_="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Wt extends Ei{construct(t,i,a){return new Wt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ei{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return Cb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new Fe([H_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Wt.fromString(t))}static fromName(t){return new ht(Wt.fromString(t).popFirst(5))}static empty(){return new ht(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Wt(t.slice()))}}function xE(s,t,i){if(!i)throw new at(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Db(s,t,i,a){if(t===!0&&a===!0)throw new at(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function G_(s){if(!ht.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function F_(s){if(ht.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function UE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function _l(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rh(s);throw new at(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function xl(s,t){if(!UE(s))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new at(Y.INVALID_ARGUMENT,i);return!0}const Q_=-62135596800,K_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*K_);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Q_)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wl=-1;function Nb(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Qr(l,ht.empty(),t)}function Ob(s){return new Qr(s.readTime,s.key,wl)}class Qr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Qr(_t.min(),ht.empty(),wl)}static max(){return new Qr(_t.max(),ht.empty(),wl)}}function Vb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const Mb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function to(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==Mb)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Ub(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(s){return s.name==="IndexedDbTransactionError"}class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sh.ce=-1;const ym=-1;function ah(s){return s==null}function kc(s){return s===0&&1/s==-1/0}function Lb(s){return typeof s=="number"&&Number.isInteger(s)&&!kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const LE="";function kb(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Y_(t)),t=Pb(s.get(i),t);return Y_(t)}function Pb(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case LE:i+="";break;default:i+=c}}return i}function Y_(s){return s+LE+""}function X_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Bs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function kE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(t){return new J_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class J_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Ve(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const zb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=zb.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Yr(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const zE="server_timestamp",BE="__type__",jE="__previous_value__",qE="__local_write_time__";function _m(s){return(s?.mapValue?.fields||{})[BE]?.stringValue===zE}function oh(s){const t=s.mapValue.fields[jE];return _m(t)?oh(t):t}function Rl(s){const t=Kr(s.mapValue.fields[qE].timestampValue);return new ie(t.seconds,t.nanos)}class Bb{constructor(t,i,a,l,c,d,p,v,_,A,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=b}}const Pc="(default)";class Il{constructor(t,i){this.projectId=t,this.database=i||Pc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}function jb(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(s.options.projectId,t)}const HE="__type__",qb="__max__",Ec={mapValue:{}},GE="__vector__",zc="value";function Xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_m(s)?4:Gb(s)?9007199254740991:Hb(s)?10:11:gt(28295,{value:s})}function Ri(s,t){if(s===t)return!0;const i=Xr(s);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Rl(s).isEqual(Rl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Kr(l.timestampValue),p=Kr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Yr(l.bytesValue).isEqual(Yr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?kc(d)===kc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Qa(s.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(X_(d)!==X_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ri(d[v],p[v])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Cl(s,t){return(s.values||[]).find((i=>Ri(i,t)))!==void 0}function Ka(s,t){if(s===t)return 0;const i=Xr(s),a=Xr(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return Z_(s.timestampValue,t.timestampValue);case 4:return Z_(Rl(s),Rl(t));case 5:return Qd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Yr(c),v=Yr(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Ot(p[_],v[_]);if(A!==0)return A}return Ot(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(me(c.latitude),me(d.latitude));return p!==0?p:Ot(me(c.longitude),me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return $_(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},_=p[zc]?.arrayValue,A=v[zc]?.arrayValue,b=Ot(_?.values?.length||0,A?.values?.length||0);return b!==0?b:$_(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ec.mapValue&&d===Ec.mapValue)return 0;if(c===Ec.mapValue)return 1;if(d===Ec.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const x=Qd(v[b],A[b]);if(x!==0)return x;const K=Ka(p[v[b]],_[A[b]]);if(K!==0)return K}return Ot(v.length,A.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Z_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=Kr(s),a=Kr(t),l=Ot(i.seconds,a.seconds);return l!==0?l:Ot(i.nanos,a.nanos)}function $_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ka(i[l],a[l]);if(c)return c}return Ot(i.length,a.length)}function Ya(s){return Kd(s)}function Kd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Kr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Kd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Kd(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Rc(s){switch(Xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(s);return t?16+Rc(t):16;case 5:return 2*s.stringValue.length;case 6:return Yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Rc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Bs(a.fields,((c,d)=>{l+=c.length+Rc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function W_(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Yd(s){return!!s&&"integerValue"in s}function vm(s){return!!s&&"arrayValue"in s}function tv(s){return!!s&&"nullValue"in s}function ev(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ic(s){return!!s&&"mapValue"in s}function Hb(s){return(s?.mapValue?.fields||{})[HE]?.stringValue===GE}function vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Bs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=vl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=vl(s.arrayValue.values[i]);return t}return{...s}}function Gb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===qb}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=vl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Ic(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Bs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Mn(vl(this.value))}}function FE(s){const t=[];return Bs(s.fields,((i,a)=>{const l=new Fe([i]);if(Ic(a)){const c=FE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Yn(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bc{constructor(t,i){this.position=t,this.inclusive=i}}function nv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Ka(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function iv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ri(s.position[i],t.position[i]))return!1;return!0}class jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Fb(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class QE{}class we extends QE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Kb(t,i,a):i==="array-contains"?new Jb(t,a):i==="in"?new Zb(t,a):i==="not-in"?new $b(t,a):i==="array-contains-any"?new Wb(t,a):new we(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Yb(t,a):new Xb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends QE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zn(t,i)}matches(t){return KE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(s){return s.op==="and"}function YE(s){return Qb(s)&&KE(s)}function Qb(s){for(const t of s.filters)if(t instanceof Zn)return!1;return!0}function Xd(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+Ya(s.value);if(YE(s))return s.filters.map((t=>Xd(t))).join(",");{const t=s.filters.map((i=>Xd(i))).join(",");return`${s.op}(${t})`}}function XE(s,t){return s instanceof we?(function(a,l){return l instanceof we&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(s,t):s instanceof Zn?(function(a,l){return l instanceof Zn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&XE(d,l.filters[p])),!0):!1})(s,t):void gt(19439)}function JE(s){return s instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(s):s instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(JE).join(" ,")+"}"})(s):"Filter"}class Kb extends we{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class Yb extends we{constructor(t,i){super(t,"in",i),this.keys=ZE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Xb extends we{constructor(t,i){super(t,"not-in",i),this.keys=ZE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function ZE(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class Jb extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return vm(i)&&Cl(i.arrayValue,this.value)}}class Zb extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class $b extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class Wb extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Cl(this.value.arrayValue,a)))}}class tw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function rv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new tw(s,t,i,a,l,c,d)}function Em(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Xd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ya(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ya(a))).join(",")),t.Te=i}return t.Te}function Tm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Fb(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!XE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!iv(s.startAt,t.startAt)&&iv(s.endAt,t.endAt)}function Jd(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ul{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ew(s,t,i,a,l,c,d,p){return new Ul(s,t,i,a,l,c,d,p)}function Am(s){return new Ul(s)}function sv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function nw(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function $E(s){return s.collectionGroup!==null}function El(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new jc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new jc(Fe.keyField(),a))}return t.Ie}function Ti(s){const t=Et(s);return t.Ee||(t.Ee=iw(t,El(s))),t.Ee}function iw(s,t){if(s.limitType==="F")return rv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new jc(l.field,c)}));const i=s.endAt?new Bc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Bc(s.startAt.position,s.startAt.inclusive):null;return rv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Zd(s,t){const i=s.filters.concat([t]);return new Ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function $d(s,t,i){return new Ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function lh(s,t){return Tm(Ti(s),Ti(t))&&s.limitType===t.limitType}function WE(s){return`${Em(Ti(s))}|lt:${s.limitType}`}function Ua(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>JE(l))).join(", ")}]`),ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${a})`})(Ti(s))}; limitType=${s.limitType})`}function uh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of El(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=nv(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,El(a),l)||a.endAt&&!(function(d,p,v){const _=nv(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,El(a),l))})(s,t)}function rw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tT(s){return(t,i)=>{let a=!1;for(const l of El(s)){const c=sw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function sw(s,t,i){const a=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),_=p.data.field(c);return v!==null&&_!==null?Ka(v,_):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}const aw=new oe(ht.comparator);function Zi(){return aw}const eT=new oe(ht.comparator);function ml(...s){let t=eT;for(const i of s)t=t.insert(i.key,i);return t}function nT(s){let t=eT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Os(){return Tl()}function iT(){return Tl()}function Tl(){return new js((s=>s.toString()),((s,t)=>s.isEqual(t)))}const ow=new oe(ht.comparator),lw=new Ve(ht.comparator);function Vt(...s){let t=lw;for(const i of s)t=t.add(i);return t}const uw=new Ve(Ot);function cw(){return uw}function Sm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(t)?"-0":t}}function rT(s){return{integerValue:""+s}}function hw(s,t){return Lb(t)?rT(t):Sm(s,t)}class ch{constructor(){this._=void 0}}function fw(s,t,i){return s instanceof qc?(function(l,c){const d={fields:{[BE]:{stringValue:zE},[qE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&_m(c)&&(c=oh(c)),c&&(d.fields[jE]=c),{mapValue:d}})(i,t):s instanceof Dl?aT(s,t):s instanceof Nl?oT(s,t):(function(l,c){const d=sT(l,c),p=av(d)+av(l.Ae);return Yd(d)&&Yd(l.Ae)?rT(p):Sm(l.serializer,p)})(s,t)}function dw(s,t,i){return s instanceof Dl?aT(s,t):s instanceof Nl?oT(s,t):i}function sT(s,t){return s instanceof Hc?(function(a){return Yd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class qc extends ch{}class Dl extends ch{constructor(t){super(),this.elements=t}}function aT(s,t){const i=lT(t);for(const a of s.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Nl extends ch{constructor(t){super(),this.elements=t}}function oT(s,t){let i=lT(t);for(const a of s.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class Hc extends ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function av(s){return me(s.integerValue||s.doubleValue)}function lT(s){return vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function mw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Dl&&l instanceof Dl||a instanceof Nl&&l instanceof Nl?Qa(a.elements,l.elements,Ri):a instanceof Hc&&l instanceof Hc?Ri(a.Ae,l.Ae):a instanceof qc&&l instanceof qc})(s.transform,t.transform)}class gw{constructor(t,i){this.version=t,this.transformResults=i}}class Yi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Yi}static exists(t){return new Yi(void 0,t)}static updateTime(t){return new Yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class hh{}function uT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new hT(s.key,Yi.none()):new Ll(s.key,s.data,Yi.none());{const i=s.data,a=Mn.empty();let l=new Ve(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new qs(s.key,a,new Yn(l.toArray()),Yi.none())}}function pw(s,t,i){s instanceof Ll?(function(l,c,d){const p=l.value.clone(),v=lv(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof qs?(function(l,c,d){if(!Cc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=lv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(cT(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Al(s,t,i,a){return s instanceof Ll?(function(c,d,p,v){if(!Cc(c.precondition,d))return p;const _=c.value.clone(),A=uv(c.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof qs?(function(c,d,p,v){if(!Cc(c.precondition,d))return p;const _=uv(c.fieldTransforms,v,d),A=d.data;return A.setAll(cT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return Cc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function yw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=sT(a.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function ov(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Qa(a,l,((c,d)=>mw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ll extends hh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qs extends hh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function lv(s,t,i){const a=new Map;qt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,dw(d,p,i[l]))}return a}function uv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,fw(c,d,t))}return a}class hT extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&pw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=iT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=uT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,a)=>ov(i,a)))&&Qa(this.baseMutations,t.baseMutations,((i,a)=>ov(i,a)))}}class bm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return ow})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new bm(t,i,a,l)}}class Ew{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Tw{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Lt;function Aw(s){switch(s){case Y.OK:return gt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function fT(s){if(s===void 0)return Ji("GRPC error has no .code"),Y.UNKNOWN;switch(s){case be.OK:return Y.OK;case be.CANCELLED:return Y.CANCELLED;case be.UNKNOWN:return Y.UNKNOWN;case be.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case be.INTERNAL:return Y.INTERNAL;case be.UNAVAILABLE:return Y.UNAVAILABLE;case be.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case be.NOT_FOUND:return Y.NOT_FOUND;case be.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case be.ABORTED:return Y.ABORTED;case be.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case be.DATA_LOSS:return Y.DATA_LOSS;default:return gt(39323,{code:s})}}(Lt=be||(be={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function Sw(){return new TextEncoder}const bw=new Hr([4294967295,4294967295],0);function cv(s){const t=Sw().encode(s),i=new RE;return i.update(t),new Uint8Array(i.digest())}function hv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,c],0)]}class wm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(bw)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=cv(t),[a,l]=hv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new wm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=cv(t),[a,l]=hv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new fh(_t.min(),l,new oe(Ot),Zi(),Vt())}}class kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new kl(a,i,Vt(),Vt(),Vt())}}class Dc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class dT{constructor(t,i){this.targetId=t,this.Ce=i}}class mT{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class fv{constructor(){this.ve=0,this.Fe=dv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new kl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=dv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ww{constructor(t){this.Ge=t,this.ze=new Map,this.je=Zi(),this.He=Tc(),this.Je=Tc(),this.Ze=new oe(Ot)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Jd(c))if(a===0){const d=new ht(c.path);this.et(i,d,Je.newNoDocument(d,_t.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Yr(a).toUint8Array()}catch(v){if(v instanceof PE)return ks("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new wm(d,l,c)}catch(v){return ks(v instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Jd(p.target)){const v=new ht(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new fh(t,i,this.Ze,this.je,a);return this.je=Zi(),this.He=Tc(),this.Je=Tc(),this.Ze=new oe(Ot),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new fv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Ot),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Ot),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Tc(){return new oe(ht.comparator)}function dv(){return new oe(ht.comparator)}const Rw={asc:"ASCENDING",desc:"DESCENDING"},Iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw={and:"AND",or:"OR"};class Dw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Wd(s,t){return s.useProto3Json||ah(t)?t:{value:t}}function Gc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Nw(s,t){return Gc(s,t.toTimestamp())}function Ai(s){return qt(!!s,49232),_t.fromTimestamp((function(i){const a=Kr(i);return new ie(a.seconds,a.nanos)})(s))}function Rm(s,t){return tm(s,t).canonicalString()}function tm(s,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function pT(s){const t=Wt.fromString(s);return qt(TT(t),10190,{key:t.toString()}),t}function em(s,t){return Rm(s.databaseId,t.path)}function xd(s,t){const i=pT(t);if(i.get(1)!==s.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(_T(i))}function yT(s,t){return Rm(s.databaseId,t)}function Ow(s){const t=pT(s);return t.length===4?Wt.emptyPath():_T(t)}function nm(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _T(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function mv(s,t,i){return{name:em(s,t),fields:i.value.mapValue.fields}}function Vw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:fT(_.code);return new at(A,_.message||"")})(d);i=new mT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=xd(s,a.document.name),c=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):_t.min(),p=new Mn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Dc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=xd(s,a.document),c=a.readTime?Ai(a.readTime):_t.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Dc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=xd(s,a.document),c=a.removedTargetIds||[];i=new Dc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Tw(l,c),p=a.targetId;i=new dT(p,d)}}return i}function Mw(s,t){let i;if(t instanceof Ll)i={update:mv(s,t.key,t.value)};else if(t instanceof hT)i={delete:em(s,t.key)};else if(t instanceof qs)i={update:mv(s,t.key,t.data),updateMask:qw(t.fieldMask)};else{if(!(t instanceof _w))return gt(16599,{dt:t.type});i={verify:em(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Nw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function xw(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(_t.min())&&(d=Ai(c)),new gw(d,l.transformResults||[])})(i,t)))):[]}function Uw(s,t){return{documents:[yT(s,t.path)]}}function Lw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=yT(s,l);const c=(function(_){if(_.length!==0)return ET(Zn.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:La(x.field),direction:zw(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Wd(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function kw(s){let t=Ow(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const x=vT(b);return x instanceof Zn&&YE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new jc(ka(Z.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,ah(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(b){const x=!!b.before,K=b.values||[];return new Bc(K,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,K=b.values||[];return new Bc(K,x)})(i.endAt)),ew(t,l,d,c,p,"F",v,_)}function Pw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function vT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ka(i.unaryFilter.field);return we.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return we.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(i.unaryFilter.field);return we.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return we.create(ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((a=>vT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function zw(s){return Rw[s]}function Bw(s){return Iw[s]}function jw(s){return Cw[s]}function La(s){return{fieldPath:s.canonicalString()}}function ka(s){return Fe.fromServerFormat(s.fieldPath)}function ET(s){return s instanceof we?(function(i){if(i.op==="=="){if(ev(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(tv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ev(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(tv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:Bw(i.op),value:i.value}}})(s):s instanceof Zn?(function(i){const a=i.getFilters().map((l=>ET(l)));return a.length===1?a[0]:{compositeFilter:{op:jw(i.op),filters:a}}})(s):gt(54877,{filter:s})}function qw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function TT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function AT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class zr{constructor(t,i,a,l,c=_t.min(),d=_t.min(),p=Qe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Hw{constructor(t){this.yt=t}}function Gw(s){const t=kw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$d(t,t.limit,"L"):t}class Fw{constructor(){this.Sn=new Qw}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Qr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Qw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(Wt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(Wt.comparator)).toArray()}}const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(ST,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Xa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Xa(0)}static ar(){return new Xa(-1)}}const pv="LruGarbageCollector",Kw=1048576;function yv([s,t],[i,a]){const l=Ot(s,i);return l===0?Ot(t,a):l}class Yw{constructor(t){this.Pr=t,this.buffer=new Ve(yv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();yv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(pv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?rt(pv,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Ar(3e5)}))}}class Jw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(sh.ce);const a=new Yw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(gv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),xa()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Zw(s,t){return new Jw(s,t)}class $w{constructor(){this.changes=new js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ww{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Al(a.mutation,l,Yn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Os();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=ml();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Os();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Zi();const d=Tl(),p=(function(){return Tl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof qs)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Al(A.mutation,_,A.mutation.getFieldMask(),ie.now())):d.set(_.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new Ww(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Tl();let l=new oe(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Yn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const b=(l.get(p.batchId)||Vt()).add(v);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,b=iT();A.forEach((x=>{if(!c.has(x)){const K=uT(i.get(x),a.get(x));K!==null&&b.set(x,K),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return nw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):$E(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Os());let p=wl,v=c;return d.next((_=>X.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,v,_,Vt()))).next((A=>({batchId:p,changes:nT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=ml();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(v=>{const _=(function(b,x){return new Ul(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=ml();return d.forEach(((v,_)=>{const A=c.get(v);A!==void 0&&Al(A.mutation,_,Yn.empty(),ie.now()),uh(i,_)&&(p=p.insert(v,_))})),p}))}}class eR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Gw(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),X.resolve()}}class nR{constructor(){this.overlays=new oe(ht.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Os();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Os(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Os(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Os(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ew(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class iR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Im{constructor(){this.kr=new Ve(ke.Kr),this.qr=new Ve(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new ke(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new ke(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ht(new Wt([])),a=new ke(i,t),l=new ke(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new Wt([])),a=new ke(i,t),l=new ke(i,t+1);let c=Vt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Ot(t.Hr,i.Hr)}static Ur(t,i){return Ot(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class rR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(ke.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ym:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Ot);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ht(c),0);let p=new Ve(Ot);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new ke(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class sR{constructor(t){this.ti=t,this.docs=(function(){return new oe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=Zi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Zi();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Vb(Ob(A),a)<=0||(l.has(A.key)||uh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new aR(this)}getSize(t){return X.resolve(this.size)}}class aR extends $w{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class oR{constructor(t){this.persistence=t,this.ri=new js((i=>Em(i)),Tm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new Im,this.targetCount=0,this.oi=Xa._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class bT{constructor(t,i){this._i={},this.overlays={},this.ai=new sh(0),this.ui=!1,this.ui=!0,this.ci=new iR,this.referenceDelegate=t(this),this.li=new oR(this),this.indexManager=new Fw,this.remoteDocumentCache=(function(l){return new sR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Hw(i),this.Pi=new eR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new rR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new lR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class lR extends xb{constructor(t){super(),this.currentSequenceNumber=t}}class Cm{constructor(t){this.persistence=t,this.Ri=new Im,this.Ai=null}static Vi(t){return new Cm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ht.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Fc{constructor(t,i){this.persistence=t,this.fi=new js((a=>kb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Zw(this,i)}static Vi(t,i){return new Fc(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Rc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Dm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Dm(t,i.fromCache,a,l)}}class uR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $S()?8:Ub(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(xa()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(xa()<=Nt.DEBUG&&rt("QueryEngine","Query:",Ua(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(xa()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):X.resolve())}gs(t,i){if(sv(i))return X.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$d(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(t,$d(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return sv(i)||l.isEqual(_t.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(xa()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(i)),this.Ds(t,d,i,Nb(l,wl)).next((p=>p)))}))}bs(t,i){let a=new Ve(tT(t));return i.forEach(((l,c)=>{uh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return xa()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.fs.getDocumentsMatchingQuery(t,i,Qr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Nm="LocalStore",hR=3e8;class fR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new oe(Ot),this.Fs=new js((c=>Em(c)),Tm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function dR(s,t,i,a){return new fR(s,t,i,a)}async function wT(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Vt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function mR(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const b=_.batch,x=b.keys();let K=X.resolve();return x.forEach((Z=>{K=K.next((()=>A.getEntry(v,Z))).next((et=>{const tt=_.docVersions.get(Z);qt(tt!==null,48541),et.version.compareTo(tt)<0&&(b.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function RT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function gR(s,t){const i=Et(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,b))));let K=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?K=K.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,a)),l=l.insert(b,K),(function(et,tt,ft){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=hR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(x,K,A)&&p.push(i.li.updateTargetData(c,K))}));let v=Zi(),_=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(pR(c,d,t.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!a.isEqual(_t.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.vs=l,c)))}function pR(s,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Zi();return i.forEach(((p,v)=>{const _=c.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):rt(Nm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function yR(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=ym),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _R(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function im(s,t,i){const a=Et(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!eo(d))throw d;rt(Nm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function _v(s,t,i){const a=Et(s);let l=_t.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=Et(v),x=b.Fs.get(A);return x!==void 0?X.resolve(b.vs.get(x)):b.li.getTargetData(_,A)})(a,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Vt()))).next((p=>(vR(a,rw(t),p),{documents:p,ks:c})))))}function vR(s,t,i){let a=s.Ms.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class vv{constructor(){this.activeTargetIds=cw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ER{constructor(){this.vo=new vv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new vv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TR{Mo(t){}shutdown(){}}const Ev="ConnectivityMonitor";class Tv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(Ev,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(Ev,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ac=null;function rm(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}const Ud="RestConnection",AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Pc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=rm(),p=this.Qo(t,i.toUriEncodedString());rt(Ud,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:_}=new URL(p),A=Za(_);return this.zo(t,p,v,a,A).then((b=>(rt(Ud,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw ks(Ud,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=AR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class bR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ye="WebChannelConnection",fl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class za extends SR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!za.c_){const t=NE();fl(t,DE.STAT_EVENT,(i=>{i.stat===Fd.PROXY?rt(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===Fd.NOPROXY&&rt(Ye,"STAT_EVENT: detected no buffering proxy")})),za.c_=!0}}zo(t,i,a,l,c){const d=rm();return new Promise(((p,v)=>{const _=new IE;_.setWithCredentials(!0),_.listenOnce(CE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case wc.NO_ERROR:const b=_.getResponseJson();rt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case wc.TIMEOUT:rt(Ye,`RPC '${t}' ${d} timed out`),v(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const x=_.getStatus();if(rt(Ye,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const et=(function(ft){const it=ft.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(it)>=0?it:Y.UNKNOWN})(Z.status);v(new at(et,Z.message))}else v(new at(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(Y.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=rm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");rt(Ye,`Creating RPC '${t}' stream ${l}: ${_}`,p);const A=d.createWebChannel(_,p);this.I_(A);let b=!1,x=!1;const K=new bR({Ho:Z=>{x?rt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(rt(Ye,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),rt(Ye,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return fl(A,dl.EventType.OPEN,(()=>{x||(rt(Ye,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),fl(A,dl.EventType.CLOSE,(()=>{x||(x=!0,rt(Ye,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(A))})),fl(A,dl.EventType.ERROR,(Z=>{x||(x=!0,ks(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),K.o_(new at(Y.UNAVAILABLE,"The operation could not be completed")))})),fl(A,dl.EventType.MESSAGE,(Z=>{if(!x){const et=Z.data[0];qt(!!et,16349);const tt=et,ft=tt?.error||tt[0]?.error;if(ft){rt(Ye,`RPC '${t}' stream ${l} received error:`,ft);const it=ft.status;let ot=(function(xt){const D=be[xt];if(D!==void 0)return fT(D)})(it),wt=ft.message;it==="NOT_FOUND"&&wt.includes("database")&&wt.includes("does not exist")&&wt.includes(this.databaseId.database)&&ks(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ot===void 0&&(ot=Y.INTERNAL,wt="Unknown error status: "+it+" with message "+ft.message),x=!0,K.o_(new at(ot,wt)),A.close()}else rt(Ye,`RPC '${t}' stream ${l} received:`,et),K.__(et)}})),za.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return OE()}}function wR(s){return new za(s)}function Ld(){return typeof document<"u"?document:null}function dh(s){return new Dw(s,!0)}za.c_=!1;class IT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Av="PersistentStream";class CT{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new at(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Av,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(Av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RR extends CT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Vw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ai(d.readTime):_t.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=nm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=Jd(v)?{documents:Uw(c,v)}:{query:Lw(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=gT(c,d.resumeToken);const _=Wd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Gc(c,d.snapshotVersion.toTimestamp());const _=Wd(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=Pw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=nm(this.serializer),i.removeTarget=t,this.K_(i)}}class IR extends CT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=xw(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=nm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Mw(this.serializer,a)))};this.K_(i)}}class CR{}class DR extends CR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,tm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Y.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,tm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function NR(s,t,i,a){return new DR(s,t,i,a)}class OR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ps="RemoteStore";class VR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Hs(this)&&(rt(Ps,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await Pl(_),_.Va.set("Unknown"),_.Ea.delete(4),await mh(_)})(this))}))})),this.Va=new OR(a,l)}}async function mh(s){if(Hs(s))for(const t of s.Ra)await t(!0)}async function Pl(s){for(const t of s.Ra)await t(!1)}function DT(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),xm(i)?Mm(i):no(i).O_()&&Vm(i,t))}function Om(s,t){const i=Et(s),a=no(i);i.Ia.delete(t),a.O_()&&NT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Hs(i)&&i.Va.set("Unknown"))}function Vm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(s).Z_(t)}function NT(s,t){s.da.$e(t),no(s).X_(t)}function Mm(s){s.da=new ww({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),no(s).start(),s.Va.ua()}function xm(s){return Hs(s)&&!no(s).x_()&&s.Ia.size>0}function Hs(s){return Et(s).Ea.size===0}function OT(s){s.da=void 0}async function MR(s){s.Va.set("Online")}async function xR(s){s.Ia.forEach(((t,i)=>{Vm(s,t)}))}async function UR(s,t){OT(s),xm(s)?(s.Va.ha(t),Mm(s)):s.Va.set("Unknown")}async function LR(s,t,i){if(s.Va.set("Online"),t instanceof mT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){rt(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Qc(s,a)}else if(t instanceof Dc?s.da.Xe(t):t instanceof dT?s.da.st(t):s.da.tt(t),!i.isEqual(_t.min()))try{const a=await RT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),NT(c,v);const b=new zr(A.target,v,_,A.sequenceNumber);Vm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){rt(Ps,"Failed to raise snapshot:",a),await Qc(s,a)}}async function Qc(s,t,i){if(!eo(t))throw t;s.Ea.add(1),await Pl(s),s.Va.set("Offline"),i||(i=()=>RT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Ps,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await mh(s)}))}function VT(s,t){return t().catch((i=>Qc(s,i,t)))}async function gh(s){const t=Et(s),i=Jr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ym;for(;kR(t);)try{const l=await yR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,PR(t,l)}catch(l){await Qc(t,l)}MT(t)&&xT(t)}function kR(s){return Hs(s)&&s.Ta.length<10}function PR(s,t){s.Ta.push(t);const i=Jr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function MT(s){return Hs(s)&&!Jr(s).x_()&&s.Ta.length>0}function xT(s){Jr(s).start()}async function zR(s){Jr(s).ra()}async function BR(s){const t=Jr(s);for(const i of s.Ta)t.ea(i.mutations)}async function jR(s,t,i){const a=s.Ta.shift(),l=bm.from(a,t,i);await VT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await gh(s)}async function qR(s,t){t&&Jr(s).Y_&&await(async function(a,l){if((function(d){return Aw(d)&&d!==Y.ABORTED})(l.code)){const c=a.Ta.shift();Jr(a).B_(),await VT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gh(a)}})(s,t),MT(s)&&xT(s)}async function Sv(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),rt(Ps,"RemoteStore received new credentials");const a=Hs(i);i.Ea.add(3),await Pl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await mh(i)}async function HR(s,t){const i=Et(s);t?(i.Ea.delete(2),await mh(i)):t||(i.Ea.add(2),await Pl(i),i.Va.set("Unknown"))}function no(s){return s.ma||(s.ma=(function(i,a,l){const c=Et(i);return c.sa(),new RR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:MR.bind(null,s),Yo:xR.bind(null,s),t_:UR.bind(null,s),J_:LR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),xm(s)?Mm(s):s.Va.set("Unknown")):(await s.ma.stop(),OT(s))}))),s.ma}function Jr(s){return s.fa||(s.fa=(function(i,a,l){const c=Et(i);return c.sa(),new IR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zR.bind(null,s),t_:qR.bind(null,s),ta:BR.bind(null,s),na:jR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await gh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Ps,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Um{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Um(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(s,t){if(Ji("AsyncQueue",`${t}: ${s}`),eo(s))return new at(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=ml(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ba;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class bv{constructor(){this.ga=new oe(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,l,c,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ja(t,i,Ba.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class GR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class FR{constructor(){this.queries=wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=wv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function wv(){return new js((s=>WE(s)),lh)}async function QR(s,t){const i=Et(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new GR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Lm(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&km(i)}async function KR(s,t){const i=Et(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YR(s,t){const i=Et(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&km(i)}function XR(s,t,i){const a=Et(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function km(s){s.Ca.forEach((t=>{t.next()}))}var sm,Rv;(Rv=sm||(sm={})).Ma="default",Rv.Cache="cache";class JR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sm.Cache}}class UT{constructor(t){this.key=t}}class LT{constructor(t){this.key=t}}class ZR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=tT(t),this.tu=new Ba(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new bv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const x=l.get(A),K=uh(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),et=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let tt=!1;x&&K?x.data.isEqual(K.data)?Z!==et&&(a.track({type:3,doc:K}),tt=!0):this.su(x,K)||(a.track({type:2,doc:K}),tt=!0,(v&&this.eu(K,v)>0||_&&this.eu(K,_)<0)&&(p=!0)):!x&&K?(a.track({type:0,doc:K}),tt=!0):x&&!K&&(a.track({type:1,doc:x}),tt=!0,(v||_)&&(p=!0)),tt&&(K?(d=d.add(K),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(K,Z){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:tt})}};return et(K)-et(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Ja(this.query,t.tu,c,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new LT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new UT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pm="SyncEngine";class $R{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WR{constructor(t){this.key=t,this.hu=!1}}class t2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new js((p=>WE(p)),lh),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(ht.comparator),this.Au=new Map,this.Vu=new Im,this.du={},this.mu=new Map,this.fu=Xa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e2(s,t,i=!0){const a=qT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kT(a,t,i,!0),l}async function n2(s,t){const i=qT(s);await kT(i,t,!0,!1)}async function kT(s,t,i,a){const l=await _R(s.localStore,Ti(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await i2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&DT(s.remoteStore,l),p}async function i2(s,t,i,a,l){s.pu=(b,x,K)=>(async function(et,tt,ft,it){let ot=tt.view.ru(ft);ot.Ss&&(ot=await _v(et.localStore,tt.query,!1).then((({documents:D})=>tt.view.ru(D,ot))));const wt=it&&it.targetChanges.get(tt.targetId),te=it&&it.targetMismatches.get(tt.targetId)!=null,xt=tt.view.applyChanges(ot,et.isPrimaryClient,wt,te);return Cv(et,tt.targetId,xt.au),xt.snapshot})(s,b,x,K);const c=await _v(s.localStore,t,!0),d=new ZR(t,c.ks),p=d.ru(c.documents),v=kl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);Cv(s,i,_.au);const A=new $R(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function r2(s,t,i){const a=Et(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!lh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await im(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Om(a.remoteStore,l.targetId),am(a,l.targetId)})).catch(to)):(am(a,l.targetId),await im(a.localStore,l.targetId,!0))}async function s2(s,t){const i=Et(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Om(i.remoteStore,a.targetId))}async function a2(s,t,i){const a=d2(s);try{const l=await(function(d,p){const v=Et(d),_=ie.now(),A=p.reduce(((K,Z)=>K.add(Z.key)),Vt());let b,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let Z=Zi(),et=Vt();return v.xs.getEntries(K,A).next((tt=>{Z=tt,Z.forEach(((ft,it)=>{it.isValidDocument()||(et=et.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,Z))).next((tt=>{b=tt;const ft=[];for(const it of p){const ot=yw(it,b.get(it.key).overlayedDocument);ot!=null&&ft.push(new qs(it.key,ot,FE(ot.value.mapValue),Yi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,_,ft,p)})).next((tt=>{x=tt;const ft=tt.applyToLocalDocumentSet(b,et);return v.documentOverlayCache.saveOverlays(K,tt.batchId,ft)}))})).then((()=>({batchId:x.batchId,changes:nT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new oe(Ot)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await zl(a,l.changes),await gh(a.remoteStore)}catch(l){const c=Lm(l,"Failed to persist write");i.reject(c)}}async function PT(s,t){const i=Et(s);try{const a=await gR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await zl(i,a,t)}catch(a){await to(a)}}function Iv(s,t,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Et(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,b)=>{for(const x of b.ba)x.va(p)&&(_=!0)})),_&&km(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function o2(s,t,i){const a=Et(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(ht.comparator);d=d.insert(c,Je.newNoDocument(c,_t.min()));const p=Vt().add(c),v=new fh(_t.min(),new Map,new oe(Ot),d,p);await PT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),zm(a)}else await im(a.localStore,t,!1).then((()=>am(a,t,i))).catch(to)}async function l2(s,t){const i=Et(s),a=t.batch.batchId;try{const l=await mR(i.localStore,t);BT(i,a,null),zT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await zl(i,l)}catch(l){await to(l)}}async function u2(s,t,i){const a=Et(s);try{const l=await(function(d,p){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((b=>(qt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);BT(a,t,i),zT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await zl(a,l)}catch(l){await to(l)}}function zT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function BT(s,t,i){const a=Et(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function am(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||jT(s,a)}))}function jT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Om(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),zm(s))}function Cv(s,t,i){for(const a of i)a instanceof UT?(s.Vu.addReference(a.key,t),c2(s,a)):a instanceof LT?(rt(Pm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||jT(s,a.key)):gt(19791,{wu:a})}function c2(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(rt(Pm,"New document in limbo: "+i),s.Eu.add(a),zm(s))}function zm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(Wt.fromString(t)),a=s.fu.next();s.Au.set(a,new WR(i)),s.Ru=s.Ru.insert(i,a),DT(s.remoteStore,new zr(Ti(Am(i.path)),a,"TargetPurposeLimboResolution",sh.ce))}}async function zl(s,t,i){const a=Et(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Dm.Es(v.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(_,(x=>X.forEach(x.Ts,(K=>A.persistence.referenceDelegate.addReference(b,x.targetId,K))).next((()=>X.forEach(x.Is,(K=>A.persistence.referenceDelegate.removeReference(b,x.targetId,K)))))))))}catch(b){if(!eo(b))throw b;rt(Nm,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const K=A.vs.get(x),Z=K.snapshotVersion,et=K.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(x,et)}}})(a.localStore,c))}async function h2(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){rt(Pm,"User change. New user:",t.toKey());const a=await wT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new at(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await zl(i,a.Ns)}}function f2(s,t){const i=Et(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function qT(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o2.bind(null,t),t.Pu.J_=YR.bind(null,t.eventManager),t.Pu.yu=XR.bind(null,t.eventManager),t}function d2(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u2.bind(null,t),t}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dR(this.persistence,new cR,t.initialUser,this.serializer)}Cu(t){return new bT(Cm.Vi,this.serializer)}Du(t){return new ER}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class m2 extends Kc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Fc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Xw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new bT((a=>Fc.Vi(a,i)),this.serializer)}}class om{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Iv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await HR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FR})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),a=wR(t.databaseInfo);return NR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new VR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Iv(this.syncEngine,i,0)),(function(){return Tv.v()?new Tv:new TR})())}createSyncEngine(t,i){return(function(l,c,d,p,v,_,A){const b=new t2(l,c,d,p,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);rt(Ps,"RemoteStore shutting down."),a.Ea.add(5),await Pl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};class g2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zr="FirestoreClient";class p2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Lm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function kd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(Zr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await wT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Dv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await y2(s);rt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Sv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Sv(t.remoteStore,l))),s._onlineComponents=t}async function y2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Zr,"Using user provided OfflineComponentProvider");try{await kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ks("Error using user provided cache. Falling back to memory cache: "+i),await kd(s,new Kc)}}else rt(Zr,"Using default OfflineComponentProvider"),await kd(s,new m2(void 0));return s._offlineComponents}async function HT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Zr,"Using user provided OnlineComponentProvider"),await Dv(s,s._uninitializedComponentsProvider._online)):(rt(Zr,"Using default OnlineComponentProvider"),await Dv(s,new om))),s._onlineComponents}function _2(s){return HT(s).then((t=>t.syncEngine))}async function Nv(s){const t=await HT(s),i=t.eventManager;return i.onListen=e2.bind(null,t.syncEngine),i.onUnlisten=r2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=n2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=s2.bind(null,t.syncEngine),i}function v2(s,t,i,a){const l=new g2(a),c=new JR(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>QR(await Nv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>KR(await Nv(s),c)))}}function E2(s,t){const i=new Vs;return s.asyncQueue.enqueueAndForget((async()=>a2(await _2(s),t,i))),i.promise}function GT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const T2="ComponentProvider",Ov=new Map;function A2(s,t,i,a,l){return new Bb(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,GT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const FT="firestore.googleapis.com",Vv=!0;class Mv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FT,this.ssl=Vv}else this.host=t.host,this.ssl=t.ssl??Vv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Kw)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Db("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ph{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new vb;switch(a.type){case"firstParty":return new Sb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Ov.get(i);a&&(rt(T2,"Removing Datastore"),Ov.delete(i),a.terminate())})(this),Promise.resolve()}}function S2(s,t,i,a={}){s=_l(s,ph);const l=Za(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(_E(`https://${p}`),vE("Firestore",!0)),c.host!==FT&&c.host!==p&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!xs(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Xe.MOCK_USER;else{_=HS(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}s._authCredentials=new Eb(new ME(_,A))}}class io{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new io(this.firestore,t,this._query)}}class Oe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(xl(i,Oe._jsonSchema))return new Oe(t,a||null,new ht(Wt.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Gr extends io{constructor(t,i,a){super(t,i,Am(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new ht(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function xv(s,t,...i){if(s=cn(s),xE("collection","path",t),s instanceof ph){const a=Wt.fromString(t,...i);return F_(a),new Gr(s,null,a)}{if(!(s instanceof Oe||s instanceof Gr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(t,...i));return F_(a),new Gr(s.firestore,null,a)}}function b2(s,t,...i){if(s=cn(s),arguments.length===1&&(t=pm.newId()),xE("doc","path",t),s instanceof ph){const a=Wt.fromString(t,...i);return G_(a),new Oe(s,null,new ht(a))}{if(!(s instanceof Oe||s instanceof Gr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(t,...i));return G_(a),new Oe(s.firestore,s instanceof Gr?s.converter:null,new ht(a))}}const Uv="AsyncQueue";class Lv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const a=Ld();a&&rt(Uv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;rt(Uv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",kv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Um.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function kv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Yc extends ph{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lv(t),this._firestoreClient=void 0,await t}}}function w2(s,t){const i=typeof s=="object"?s:SE(),a=typeof s=="string"?s:Pc,l=mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jS("firestore");c&&S2(l,...c)}return l}function QT(s){if(s._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||R2(s),s._firestoreClient}function R2(s){const t=s._freezeSettings(),i=A2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new p2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Qe.fromBase64String(t))}catch(i){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xl(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Re("string",xn._jsonSchemaVersion),bytes:Re("string")};class KT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class YT{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(xl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Jn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xl(t,Jn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Jn(t.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:Re("string",Jn._jsonSchemaVersion),vectorValues:Re("object")};const I2=/^__.*__$/;class C2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new qs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ll(t,this.data,i,this.fieldTransforms)}}function XT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class Bm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Xc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(XT(this.dataSource)&&I2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class D2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||dh(t)}createContext(t,i,a,l=!1){return new Bm({dataSource:t,methodName:i,targetDoc:a,path:Fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JT(s){const t=s._freezeSettings(),i=dh(s._databaseId);return new D2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function N2(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);WT("Data must be an object, but it was:",d,a);const p=ZT(a,d);let v,_;if(c.merge)v=new Yn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const x=qm(t,b,i);if(!d.contains(x))throw new at(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);x2(A,x)||A.push(x)}v=new Yn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new C2(new Mn(p),v,_)}function O2(s,t,i,a=!1){return jm(i,s.createContext(a?4:3,t))}function jm(s,t){if($T(s=cn(s)))return WT("Unsupported field value:",t,s),ZT(s,t);if(s instanceof YT)return(function(a,l){if(!XT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=jm(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:Gc(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Gc(l.serializer,c)}}if(a instanceof Si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xn)return{bytesValue:gT(l.serializer,a._byteString)};if(a instanceof Oe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Rm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Jn)return(function(d,p){const v=d instanceof Jn?d.toArray():d;return{mapValue:{fields:{[HE]:{stringValue:GE},[zc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Sm(p.serializer,A)}))}}}}}})(a,l);if(AT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${rh(a)}`)})(s,t)}function ZT(s,t){const i={};return kE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(s,((a,l)=>{const c=jm(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function $T(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Si||s instanceof xn||s instanceof Oe||s instanceof YT||s instanceof Jn||AT(s))}function WT(s,t,i){if(!$T(i)||!UE(i)){const a=rh(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function qm(s,t,i){if((t=cn(t))instanceof KT)return t._internalPath;if(typeof t=="string")return M2(s,t);throw Xc("Field path arguments must be of type string or ",s,!1,void 0,i)}const V2=new RegExp("[~\\*/\\[\\]]");function M2(s,t,i){if(t.search(V2)>=0)throw Xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new KT(...t.split("."))._internalPath}catch{throw Xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new at(Y.INVALID_ARGUMENT,p+s+v)}function x2(s,t){return s.some((i=>i.isEqual(t)))}class U2{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Bs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[zc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new Jn(i)}convertGeoPoint(t){return new Si(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=oh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const i=Kr(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Wt.fromString(t);qt(TT(a),9688,{name:t});const l=new Il(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||Ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class t0 extends U2{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}const Pv="@firebase/firestore",zv="4.11.0";function Bv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class e0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new L2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(qm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class L2 extends e0{data(){return super.data()}}function k2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class P2 extends Hm{}function z2(s,t,...i){let a=[];t instanceof Hm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof Fm)).length,p=c.filter((v=>v instanceof Gm)).length;if(d>1||d>0&&p>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Gm extends P2{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Gm(t,i,a)}_apply(t){const i=this._parse(t);return n0(t._query,i),new io(t.firestore,t.converter,Zd(t._query,i))}_parse(t){const i=JT(t.firestore);return(function(c,d,p,v,_,A,b){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){qv(b,A);const Z=[];for(const et of b)Z.push(jv(v,c,et));x={arrayValue:{values:Z}}}else x=jv(v,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||qv(b,A),x=O2(p,d,b,A==="in"||A==="not-in");return we.create(_,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Fm extends Hm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Fm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const v of p)n0(d,v),d=Zd(d,v)})(t._query,i),new io(t.firestore,t.converter,Zd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jv(s,t,i){if(typeof(i=cn(i))=="string"){if(i==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$E(t)&&i.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Wt.fromString(i));if(!ht.isDocumentKey(a))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return W_(s,new ht(a))}if(i instanceof Oe)return W_(s,i._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(i)}.`)}function qv(s,t){if(!Array.isArray(s)||s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function n0(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function B2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends e0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(qm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ms._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:Re("string",Ms._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Nc extends Ms{data(t={}){return super.data(t)}}class ja{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Nc(this._firestore,this._userDataWriter,a.key,a,new pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Nc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Nc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:j2(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function j2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Re("string",ja._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function q2(s,t){const i=_l(s.firestore,Yc),a=b2(s),l=B2(s.converter,t),c=JT(s.firestore);return G2(i,[N2(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Yi.exists(!1))]).then((()=>a))}function H2(s,...t){s=cn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Bv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Bv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Oe)d=_l(s.firestore,Yc),p=Am(s._key.path),c={next:_=>{t[a]&&t[a](F2(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=_l(s,io);d=_l(_.firestore,Yc),p=_._query;const A=new t0(d);c={next:b=>{t[a]&&t[a](new ja(d,A,_,b))},error:t[a+1],complete:t[a+2]},k2(s._query)}const v=QT(d);return v2(v,p,l,c)}function G2(s,t){const i=QT(s);return E2(i,t)}function F2(s,t,i){const a=i.docs.get(t._key),l=new t0(s);return new Ms(s,l,t._key,a,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){_b($a),Fa(new Us("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Yc(new Tb(a.getProvider("auth-internal")),new bb(d,a.getProvider("app-check-internal")),jb(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),qr(Pv,zv,t),qr(Pv,zv,"esm2020")})();function i0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q2=i0,r0=new Vl("auth","Firebase",i0());const Jc=new fm("@firebase/auth");function K2(s,...t){Jc.logLevel<=Nt.WARN&&Jc.warn(`Auth (${$a}): ${s}`,...t)}function Oc(s,...t){Jc.logLevel<=Nt.ERROR&&Jc.error(`Auth (${$a}): ${s}`,...t)}function $i(s,...t){throw Qm(s,...t)}function bi(s,...t){return Qm(s,...t)}function s0(s,t,i){const a={...Q2(),[t]:i};return new Vl("auth","Firebase",a).create(t,{appName:s.name})}function Fr(s){return s0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return r0.create(s,...t)}function pt(s,t,...i){if(!s)throw Qm(t,...i)}function Qi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function Wi(s,t){s||Qi(t)}function lm(){return typeof self<"u"&&self.location?.href||""}function Y2(){return Hv()==="http:"||Hv()==="https:"}function Hv(){return typeof self<"u"&&self.location?.protocol||null}function X2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||XS()||"connection"in navigator)?navigator.onLine:!0}function J2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=QS()||JS()}get(){return X2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Km(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class a0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new Bl(3e4,6e4);function yh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ro(s,t,i,a,l={}){return o0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ml({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...c};return YS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Za(s.emulatorConfig.host)&&(_.credentials="include"),a0.fetch()(await u0(s,s.config.apiHost,i,p),_)})}async function o0(s,t,i){s._canInitEmulator=!1;const a={...Z2,...t};try{const l=new tI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Sc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Sc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw s0(s,A,_);$i(s,A)}}catch(l){if(l instanceof tr)throw l;$i(s,"network-request-failed",{message:String(l)})}}async function l0(s,t,i,a,l={}){const c=await ro(s,t,i,a,l);return"mfaPendingCredential"in c&&$i(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function u0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Km(s.config,l):`${s.config.apiScheme}://${l}`;return $2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class tI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),W2.get())})}}function Sc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(s,t,a);return l.customData._tokenResponse=i,l}async function eI(s,t){return ro(s,"POST","/v1/accounts:delete",t)}async function Zc(s,t){return ro(s,"POST","/v1/accounts:lookup",t)}function Sl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nI(s,t=!1){const i=cn(s),a=await i.getIdToken(t),l=Ym(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Sl(Pd(l.auth_time)),issuedAtTime:Sl(Pd(l.iat)),expirationTime:Sl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(s){return Number(s)*1e3}function Ym(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=mE(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Gv(s){const t=Ym(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof tr&&iI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function iI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class rI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(s){const t=s.auth,i=await s.getIdToken(),a=await Ol(s,Zc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?c0(l.providerUserInfo):[],d=aI(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function sI(s){const t=cn(s);await $c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function c0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function oI(s,t){const i=await o0(s,{},async()=>{const a=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await u0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&Za(s.emulatorConfig.host)&&(v.credentials="include"),a0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lI(s,t){return ro(s,"POST","/v2/accounts:revokeToken",yh(s,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Gv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Gv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await oI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function xr(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new rI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return nI(this,t)}reload(){return sI(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Fr(this.auth));const t=await this.getIdToken();return await Ol(this,eI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:K,providerData:Z,stsTokenManager:et}=i;pt(b&&et,t,"internal-error");const tt=qa.fromJSON(this.name,et);pt(typeof b=="string",t,"internal-error"),xr(a,t.name),xr(l,t.name),pt(typeof x=="boolean",t,"internal-error"),pt(typeof K=="boolean",t,"internal-error"),xr(c,t.name),xr(d,t.name),xr(p,t.name),xr(v,t.name),xr(_,t.name),xr(A,t.name);const ft=new Xn({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(it=>({...it}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?c0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new qa;p.updateFromIdToken(a);const v=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Fv=new Map;function Ki(s){Wi(s instanceof Function,"Expected a class definition");let t=Fv.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Fv.set(s,t),t)}class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}h0.type="NONE";const Qv=h0;function Vc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Ki(Qv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ki(Qv);const d=Vc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const x=await Zc(t,{idToken:A}).catch(()=>{});if(!x)break;b=await Xn._fromGetAccountInfoResponse(t,x,A)}else b=Xn._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ha(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ha(c,t,a))}}function Kv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(g0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(f0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(y0(t))return"Blackberry";if(_0(t))return"Webos";if(d0(t))return"Safari";if((t.includes("chrome/")||m0(t))&&!t.includes("edge/"))return"Chrome";if(p0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function f0(s=Ze()){return/firefox\//i.test(s)}function d0(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function m0(s=Ze()){return/crios\//i.test(s)}function g0(s=Ze()){return/iemobile/i.test(s)}function p0(s=Ze()){return/android/i.test(s)}function y0(s=Ze()){return/blackberry/i.test(s)}function _0(s=Ze()){return/webos/i.test(s)}function Xm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function uI(s=Ze()){return Xm(s)&&!!window.navigator?.standalone}function cI(){return ZS()&&document.documentMode===10}function v0(s=Ze()){return Xm(s)||p0(s)||_0(s)||y0(s)||/windows phone/i.test(s)||g0(s)}function E0(s,t=[]){let i;switch(s){case"Browser":i=Kv(Ze());break;case"Worker":i=`${Kv(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${a}`}class hI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function fI(s,t={}){return ro(s,"GET","/v2/passwordPolicy",yh(s,t))}const dI=6;class mI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??dI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class gI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yv(this),this.idTokenSubscription=new Yv(this),this.beforeStateQueue=new hI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ki(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await $c(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Fr(this));const i=t?cn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fI(this),i=new mI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await lI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ki(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=E0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&K2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _h(s){return cn(s)}class Yv{constructor(t){this.auth=t,this.observer=null,this.addObserver=s1(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pI(s){Jm=s}function yI(s){return Jm.loadJS(s)}function _I(){return Jm.gapiScript}function vI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function EI(s,t){const i=mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(xs(c,t??{}))return l;$i(l,"already-initialized")}return i.initialize({options:t})}function TI(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ki);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function AI(s,t,i){const a=_h(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=T0(t),{host:d,port:p}=SI(t),v=p===null?"":`:${p}`,_={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(xs(_,a.config.emulator)&&xs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Za(d)?(_E(`${c}//${d}${v}`),vE("Auth",!0)):bI()}function T0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function SI(s){const t=T0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Xv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Xv(d)}}}function Xv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function bI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class A0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function Ga(s,t){return l0(s,"POST","/v1/accounts:signInWithIdp",yh(s,t))}const wI="http://localhost";class zs extends A0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new zs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:wI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ml(i)}return t}}class S0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends S0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ur extends jl{constructor(){super("facebook.com")}static credential(t){return zs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class Lr extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return zs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Lr.credential(i,a)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";class kr extends jl{constructor(){super("github.com")}static credential(t){return zs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Pr extends jl{constructor(){super("twitter.com")}static credential(t,i){return zs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";async function RI(s,t){return l0(s,"POST","/v1/accounts:signUp",yh(s,t))}class $r{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=Jv(a);return new $r({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Jv(a);return new $r({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Jv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function II(s){if(Kn(s.app))return Promise.reject(Fr(s));const t=_h(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new $r({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await RI(t,{returnSecureToken:!0}),a=await $r._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Wc extends tr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Wc(t,i,a,l)}}function b0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,t,a):c})}async function CI(s,t,i=!1){const a=await Ol(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return $r._forOperation(s,"link",a)}async function DI(s,t,i=!1){const{auth:a}=s;if(Kn(a.app))return Promise.reject(Fr(a));const l="reauthenticate";try{const c=await Ol(s,b0(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=Ym(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(s.uid===p,a,"user-mismatch"),$r._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&$i(a,"user-mismatch"),c}}async function NI(s,t,i=!1){if(Kn(s.app))return Promise.reject(Fr(s));const a="signIn",l=await b0(s,a,t),c=await $r._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function OI(s,t,i,a){return cn(s).onIdTokenChanged(t,i,a)}function VI(s,t,i){return cn(s).beforeAuthStateChanged(t,i)}function MI(s,t,i,a){return cn(s).onAuthStateChanged(t,i,a)}const th="__sak";class w0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xI=1e3,UI=10;class R0 extends w0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);cI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,UI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}R0.type="LOCAL";const LI=R0;class I0 extends w0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}I0.type="SESSION";const C0=I0;function kI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new vh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),v=await kI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Zm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class PI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const _=Zm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function zI(s){wi().location.href=s}function D0(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function BI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jI(){return navigator?.serviceWorker?.controller||null}function qI(){return D0()?self:null}const N0="firebaseLocalStorageDb",HI=1,eh="firebaseLocalStorage",O0="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,t){return s.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function GI(){const s=indexedDB.deleteDatabase(N0);return new ql(s).toPromise()}function cm(){const s=indexedDB.open(N0,HI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:O0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?t(a):(a.close(),await GI(),t(await cm()))})})}async function Zv(s,t,i){const a=Eh(s,!0).put({[O0]:t,value:i});return new ql(a).toPromise()}async function FI(s,t){const i=Eh(s,!1).get(t),a=await new ql(i).toPromise();return a===void 0?null:a.value}function $v(s,t){const i=Eh(s,!0).delete(t);return new ql(i).toPromise()}const QI=800,KI=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>KI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(qI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await Zv(t,th,"1"),await $v(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Zv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>FI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$v(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const YI=V0;new Bl(3e4,6e4);function XI(s,t){return t?Ki(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class $m extends A0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function JI(s){return NI(s.auth,new $m(s),s.bypassAuthState)}function ZI(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),DI(i,new $m(s),s.bypassAuthState)}async function $I(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),CI(i,new $m(s),s.bypassAuthState)}class M0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JI;case"linkViaPopup":case"linkViaRedirect":return $I;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:$i(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WI=new Bl(2e3,1e4);class Pa extends M0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WI.get())};t()}}Pa.currentPopupAction=null;const tC="pendingRedirect",Mc=new Map;class eC extends M0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await nC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(s,t){const i=sC(t),a=rC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function iC(s,t){Mc.set(s._key(),t)}function rC(s){return Ki(s._redirectPersistence)}function sC(s){return Vc(tC,s.config.apiKey,s.name)}async function aC(s,t,i=!1){if(Kn(s.app))return Promise.reject(Fr(s));const a=_h(s),l=XI(a,t),d=await new eC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const oC=600*1e3;class lC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!x0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wv(t))}saveEventToCache(t){this.cachedEventUids.add(Wv(t)),this.lastProcessedEventTime=Date.now()}}function Wv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function x0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function uC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x0(s);default:return!1}}async function cC(s,t={}){return ro(s,"GET","/v1/projects",t)}const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function dC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await cC(s);for(const i of t)try{if(mC(i))return}catch{}$i(s,"unauthorized-domain")}function mC(s){const t=lm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!fC.test(i))return!1;if(hC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const gC=new Bl(3e4,6e4);function tE(){const s=wi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function pC(s){return new Promise((t,i)=>{function a(){tE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tE(),i(bi(s,"network-request-failed"))},timeout:gC.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const l=vI("iframefcb");return wi()[l]=()=>{gapi.load?a():i(bi(s,"network-request-failed"))},yI(`${_I()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function yC(s){return xc=xc||pC(s),xc}const _C=new Bl(5e3,15e3),vC="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SC(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Km(t,EC):`https://${s.config.authDomain}/${vC}`,a={apiKey:t.apiKey,appName:s.name,v:$a},l=AC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ml(a).slice(1)}`}async function bC(s){const t=await yC(s),i=wi().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:SC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(s,"network-request-failed"),p=wi().setTimeout(()=>{c(d)},_C.get());function v(){wi().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,IC=600,CC="_blank",DC="http://localhost";class eE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(s,t,i,a=RC,l=IC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...wC,width:a.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(p=m0(_)?CC:i),f0(_)&&(t=t||DC,v.scrollbars="yes");const A=Object.entries(v).reduce((x,[K,Z])=>`${x}${K}=${Z},`,"");if(uI(_)&&p!=="_self")return OC(t||"",p),new eE(null);const b=window.open(t||"",p,A);pt(b,s,"popup-blocked");try{b.focus()}catch{}return new eE(b)}function OC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const VC="__/auth/handler",MC="emulator/auth/handler",xC=encodeURIComponent("fac");async function nE(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:$a,eventId:l};if(t instanceof S0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",r1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof jl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await s._getAppCheckToken(),_=v?`#${xC}=${encodeURIComponent(v)}`:"";return`${UC(s)}?${Ml(p).slice(1)}${_}`}function UC({config:s}){return s.emulator?Km(s,MC):`https://${s.authDomain}/${VC}`}const zd="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C0,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await nE(t,i,a,lm(),l);return NC(t,c,Zm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await nE(t,i,a,lm(),l);return zI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await bC(t),a=new lC(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return v0()||d0()||Xm()}}const kC=LC;var iE="@firebase/auth",rE="1.12.0";class PC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BC(s){Fa(new Us("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E0(s)},_=new gI(a,l,c,v);return TI(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Fa(new Us("auth-internal",t=>{const i=_h(t.getProvider("auth").getImmediate());return(a=>new PC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(iE,rE,zC(s)),qr(iE,rE,"esm2020")}const jC=300,qC=yE("authIdTokenMaxAge")||jC;let sE=null;const HC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qC)return;const l=i?.token;sE!==l&&(sE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GC(s=SE()){const t=mm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=EI(s,{popupRedirectResolver:kC,persistence:[YI,LI,C0]}),a=yE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=HC(c.toString());VI(i,d,()=>d(i.currentUser)),OI(i,p=>d(p))}}const l=gE("auth");return l&&AI(i,`http://${l}`),i}function FC(){return document.getElementsByTagName("head")?.[0]??document}pI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",FC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BC("Browser");const QC={apiKey:"AIzaSyDohrXtG59JCgT-oEQJL4Bdshm-2C0qH5Y",authDomain:"wellness-2a55c.firebaseapp.com",projectId:"wellness-2a55c",storageBucket:"wellness-2a55c.firebasestorage.app",messagingSenderId:"894752905225",appId:"1:894752905225:web:53d3922981f37be76300d8",measurementId:"G-LN5BBWQQ0K"},U0=AE(QC),aE=GC(U0),oE=w2(U0),lE="nu-thaimassage-cologne",KC={de:{brand:"Nu Thaimassage",address:"Friesenstrae 61  50670 Cologne",phone:"0221 27098971",tagline:"Traditionelle Wellness in Kln",steps:["Dauer whlen","Therapeut","Datum & Zeit","Besttigung"],services:"Thai-l-Massage whlen",therapists:"Therapeuten whlen",dateTime:"Termin whlen",summary:"Buchungsbersicht",success:"Buchung Erfolgreich!",successMsg:"Vielen Dank! Ihre Reservierung bei Nu Thaimassage wurde entgegengenommen. Bitte kommen Sie 10 Min. frher.",next:"Weiter",back:"Zurck",confirm:"Jetzt buchen",bookAgain:"Neue Buchung",name:"Ihr Name",phoneLabel:"Telefonnummer",history:"Terminhistorie",noBookings:"Keine Termine gefunden",closed:"Sonntag Geschlossen",anyTherapist:"Beliebig (Zufllig)",expert:"Experte fr",startFrom:"Preis",pending:"Wartend",completed:"Erledigt",aiConsultant:"KI-Berater ",aiConsultantDesc:"Sagen Sie uns Ihre Beschwerden, die KI hilft Ihnen bei der Zeitwahl.",aiPromptPlaceholder:"z.B. Ich habe Rckenschmerzen...",aiGetAdvice:"KI-Rat einholen ",aiAdviceTitle:"KI Empfehlung:",aiAftercareBtn:"KI-Pflegetipps generieren ",aiAftercareTitle:"Persnliche Pflegetipps "},en:{brand:"Nu Thaimassage",address:"Friesenstrae 61  50670 Cologne",phone:"0221 27098971",tagline:"Traditional Wellness in Cologne",steps:["Select Duration","Therapist","Date & Time","Confirmation"],services:"Select Thai Oil Massage",therapists:"Select Therapist",dateTime:"Pick Date & Time",summary:"Booking Summary",success:"Booking Successful!",successMsg:"Thank you! Your reservation at Nu Thaimassage has been received. Please arrive 10 mins early.",next:"Next",back:"Back",confirm:"Book Now",bookAgain:"New Booking",name:"Your Name",phoneLabel:"Phone Number",history:"Booking History",noBookings:"No bookings found",closed:"Sunday Closed",anyTherapist:"Anyone (Random)",expert:"Expert in",startFrom:"Price",pending:"Pending",completed:"Completed",aiConsultant:"AI Consultant ",aiConsultantDesc:"Tell us your symptoms, AI will suggest the best duration for you.",aiPromptPlaceholder:"e.g. My shoulders are stiff...",aiGetAdvice:"Get AI Advice ",aiAdviceTitle:"AI Recommendation:",aiAftercareBtn:"Generate AI Aftercare Tips ",aiAftercareTitle:"Personal Aftercare "}},bc=[{id:"30m",de:"Thai-l-Massage (30 Min)",en:"Thai Oil Massage (30 Min)",duration:"30 Min",price:25,icon:""},{id:"60m",de:"Thai-l-Massage (60 Min)",en:"Thai Oil Massage (60 Min)",duration:"60 Min",price:45,icon:""},{id:"90m",de:"Thai-l-Massage (90 Min)",en:"Thai Oil Massage (90 Min)",duration:"90 Min",price:62,icon:""},{id:"120m",de:"Thai-l-Massage (120 Min)",en:"Thai Oil Massage (120 Min)",duration:"120 Min",price:78,icon:""}],uE=[{id:"t1",name:"Nok",de:"Thai-Massage Expertin",en:"Thai Massage Expert",rating:4.9},{id:"t2",name:"Porn",de:"l-Massage Spezialistin",en:"Oil Massage Specialist",rating:4.8},{id:"any",name:"Random",de:"Wer verfgbar ist",en:"Whoever is available",rating:5}],YC=["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"],cE=async(s,t)=>{const a="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=";let l=1e3;for(let c=0;c<5;c++)try{return(await(await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:s}]}],systemInstruction:{parts:[{text:t}]}})})).json()).candidates?.[0]?.content?.parts?.[0]?.text}catch{if(c===4)return"AI Service currently unavailable.";await new Promise(p=>setTimeout(p,l)),l*=2}};function XC(){const[s,t]=Le.useState("de"),[i,a]=Le.useState(null),[l,c]=Le.useState(1),[d,p]=Le.useState([]),[v,_]=Le.useState(!1),[A,b]=Le.useState(""),[x,K]=Le.useState(""),[Z,et]=Le.useState(""),[tt,ft]=Le.useState(!1),it=KC[s],[ot,wt]=Le.useState({serviceId:null,therapistId:null,date:new Date().toISOString().split("T")[0],time:"",customerName:"",customerPhone:""}),te=new Date(ot.date).getDay()===0;Le.useEffect(()=>{(async()=>{try{await II(aE)}catch(M){console.error("Auth error",M)}})();const N=MI(aE,a);return()=>N()},[]),Le.useEffect(()=>{if(!i)return;const I=z2(xv(oE,"artifacts",lE,"public","data","bookings")),N=H2(I,M=>{const w=M.docs.map(Zt=>({id:Zt.id,...Zt.data()}));p(w)},M=>console.error("Firestore error",M));return()=>N()},[i]);const xt=async()=>{if(!A.trim())return;ft(!0);const I=`You are an expert at Nu Thaimassage in Cologne. Based on symptoms, recommend the best duration (30, 60, 90, 120 min) of Thai Oil Massage. Answer in ${s}.`,N=await cE(A,I);K(N),ft(!1)},D=async()=>{ft(!0);const I=bc.find(w=>w.id===ot.serviceId)?.[s],N=`Provide 3 personalized aftercare tips in ${s} after a ${I}.`,M=await cE("Generate aftercare tips",N);et(M),ft(!1)},S=async()=>{if(!i)return;_(!0);const I=bc.find(M=>M.id===ot.serviceId),N=uE.find(M=>M.id===ot.therapistId);try{await q2(xv(oE,"artifacts",lE,"public","data","bookings"),{...ot,serviceNameDe:I.de,serviceNameEn:I.en,therapistName:N.id==="any"?it.anyTherapist:N.name,createdAt:new Date().toISOString(),userId:i.uid,status:"pending"}),c(5)}catch(M){console.error("Booking error",M)}finally{_(!1)}},C=()=>{switch(l){case 1:return nt.jsxs("div",{className:"space-y-6",children:[nt.jsx("h2",{className:"text-xl font-bold text-slate-800",children:it.services}),nt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:bc.map(I=>nt.jsxs("button",{onClick:()=>{wt({...ot,serviceId:I.id}),c(2)},className:`p-5 rounded-3xl border-2 transition-all flex items-center space-x-4 text-left ${ot.serviceId===I.id?"border-teal-500 bg-teal-50":"border-slate-100 bg-white hover:border-teal-200"}`,children:[nt.jsx("span",{className:"text-3xl",children:I.icon}),nt.jsxs("div",{className:"flex-1",children:[nt.jsx("p",{className:"font-bold text-slate-800",children:s==="de"?I.de:I.en}),nt.jsxs("p",{className:"text-teal-600 font-bold",children:[I.price," "]})]})]},I.id))}),nt.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-200",children:[nt.jsx("h3",{className:"font-bold text-sm mb-2",children:it.aiConsultant}),nt.jsx("input",{className:"w-full p-3 rounded-2xl border mb-2 text-sm focus:ring-2 focus:ring-teal-500 outline-none",placeholder:it.aiPromptPlaceholder,value:A,onChange:I=>b(I.target.value)}),nt.jsx("button",{onClick:xt,disabled:tt,className:"w-full bg-teal-600 text-white p-2.5 rounded-2xl text-xs font-bold disabled:bg-slate-400",children:tt?nt.jsx(Rd,{className:"animate-spin mx-auto",size:16}):it.aiGetAdvice}),x&&nt.jsx("div",{className:"mt-3 p-3 bg-white rounded-xl text-xs border border-teal-50 animate-in fade-in",children:x})]})]});case 2:return nt.jsxs("div",{className:"space-y-4",children:[nt.jsx("h2",{className:"text-xl font-bold",children:it.therapists}),nt.jsx("div",{className:"grid grid-cols-1 gap-2",children:uE.map(I=>nt.jsxs("button",{onClick:()=>{wt({...ot,therapistId:I.id}),c(3)},className:"p-4 rounded-2xl border-2 text-left bg-white hover:border-teal-500 transition-colors",children:[nt.jsx("div",{className:"font-bold text-slate-800",children:I.id==="any"?it.anyTherapist:I.name}),nt.jsxs("div",{className:"text-[10px] text-slate-400 uppercase font-bold",children:[it.expert,": ",s==="de"?I.de:I.en]})]},I.id))}),nt.jsxs("button",{onClick:()=>c(1),className:"text-slate-400 text-sm font-bold uppercase tracking-widest",children:[" ",it.back]})]});case 3:return nt.jsxs("div",{className:"space-y-4",children:[nt.jsx("h2",{className:"text-xl font-bold",children:it.dateTime}),nt.jsx("input",{type:"date",value:ot.date,onChange:I=>wt({...ot,date:I.target.value}),className:"w-full p-4 rounded-2xl border focus:ring-2 focus:ring-teal-500 outline-none"}),te?nt.jsx("div",{className:"p-10 text-center text-red-600 font-bold bg-red-50 rounded-2xl border border-red-100",children:it.closed}):nt.jsx("div",{className:"grid grid-cols-3 gap-2",children:YC.map(I=>nt.jsx("button",{onClick:()=>wt({...ot,time:I}),className:`p-3 rounded-xl border font-bold transition-all ${ot.time===I?"bg-teal-600 text-white border-teal-600":"bg-white hover:bg-slate-50"}`,children:I},I))}),nt.jsxs("div",{className:"flex gap-2",children:[nt.jsx("button",{onClick:()=>c(2),className:"flex-1 p-4 border rounded-2xl font-bold text-slate-400",children:it.back}),nt.jsx("button",{onClick:()=>c(4),disabled:!ot.time||te,className:"flex-1 p-4 bg-teal-600 text-white rounded-2xl font-bold disabled:bg-slate-200",children:it.next})]})]});case 4:return nt.jsxs("div",{className:"space-y-4",children:[nt.jsx("h2",{className:"text-xl font-bold",children:it.summary}),nt.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl text-sm mb-4 border border-slate-200",children:[nt.jsxs("p",{className:"flex justify-between border-b pb-2",children:[nt.jsx("span",{children:"Duration:"})," ",nt.jsx("span",{className:"font-bold text-slate-800",children:bc.find(I=>I.id===ot.serviceId)?.[s]})]}),nt.jsxs("p",{className:"flex justify-between pt-2",children:[nt.jsx("span",{children:"Date & Time:"})," ",nt.jsxs("span",{className:"font-bold text-teal-600",children:[ot.date," @ ",ot.time]})]})]}),nt.jsx("input",{placeholder:it.name,className:"w-full p-4 border rounded-2xl focus:ring-2 focus:ring-teal-500 outline-none",value:ot.customerName,onChange:I=>wt({...ot,customerName:I.target.value})}),nt.jsx("input",{placeholder:it.phoneLabel,className:"w-full p-4 border rounded-2xl focus:ring-2 focus:ring-teal-500 outline-none",value:ot.customerPhone,onChange:I=>wt({...ot,customerPhone:I.target.value})}),nt.jsx("button",{onClick:S,disabled:!ot.customerName||!ot.customerPhone||v,className:"w-full p-4 bg-teal-600 text-white rounded-2xl font-bold disabled:bg-slate-200 shadow-lg",children:v?nt.jsx(Rd,{className:"animate-spin mx-auto"}):it.confirm}),nt.jsx("button",{onClick:()=>c(3),className:"w-full text-slate-400 font-bold uppercase tracking-widest",children:it.back})]});case 5:return nt.jsxs("div",{className:"text-center py-10",children:[nt.jsx(CS,{className:"mx-auto text-green-500 mb-4 animate-in zoom-in",size:64}),nt.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:it.success}),nt.jsx("p",{className:"text-slate-500 text-sm mb-8",children:it.successMsg}),nt.jsx("div",{className:"bg-slate-50 p-6 rounded-[2rem] text-left border border-slate-200",children:Z?nt.jsxs("div",{className:"animate-in slide-in-from-bottom-2",children:[nt.jsxs("h4",{className:"font-bold text-xs mb-2 flex items-center gap-2 text-slate-800",children:[nt.jsx(Id,{className:"text-yellow-500",size:14})," ",it.aiAftercareTitle]}),nt.jsx("div",{className:"text-xs text-slate-600 leading-relaxed bg-white p-5 rounded-2xl border border-teal-50 shadow-sm whitespace-pre-wrap",children:Z})]}):nt.jsxs("button",{onClick:D,disabled:tt,className:"w-full bg-white border border-teal-200 text-teal-700 p-4 rounded-2xl text-xs font-bold flex items-center justify-center gap-2 hover:bg-teal-50 transition-all",children:[tt?nt.jsx(Rd,{className:"animate-spin",size:16}):nt.jsx(Id,{size:16}),it.aiAftercareBtn]})}),nt.jsx("button",{onClick:()=>{c(1),K(""),et(""),wt({serviceId:null,therapistId:null,date:new Date().toISOString().split("T")[0],time:"",customerName:"",customerPhone:""})},className:"w-full mt-10 p-5 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-black transition-all shadow-xl",children:it.bookAgain})]});default:return null}};return nt.jsx("div",{className:"min-h-screen bg-slate-100 p-4 md:p-10 font-sans selection:bg-teal-100",children:nt.jsxs("div",{className:"max-w-4xl mx-auto",children:[nt.jsxs("header",{className:"flex justify-between items-center mb-8",children:[nt.jsxs("div",{className:"flex items-center gap-4",children:[nt.jsx("div",{className:"w-12 h-12 bg-teal-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-teal-200",children:nt.jsx(Id,{size:24})}),nt.jsxs("div",{children:[nt.jsx("h1",{className:"text-2xl font-black text-slate-800 uppercase tracking-tighter leading-none",children:it.brand}),nt.jsx("p",{className:"text-[10px] font-bold text-teal-600 tracking-[0.3em] uppercase mt-1",children:it.tagline})]})]}),nt.jsx("button",{onClick:()=>t(s==="de"?"en":"de"),className:"bg-white px-5 py-2.5 rounded-2xl text-[11px] font-black border border-slate-200 uppercase tracking-widest hover:bg-slate-50 transition-all shadow-sm",children:s==="de"?"EN":"DE"})]}),nt.jsx("div",{className:"bg-white p-8 md:p-12 rounded-[3rem] shadow-2xl border border-slate-100 min-h-[500px]",children:C()}),nt.jsxs("footer",{className:"mt-12 text-center space-y-3",children:[nt.jsx("p",{className:"text-[11px] text-slate-400 font-bold uppercase tracking-[0.2em] px-4",children:it.address}),nt.jsxs("div",{className:"flex items-center justify-center gap-2 text-teal-600 font-black tracking-widest",children:[nt.jsx(OS,{size:14})," ",it.phone]})]})]})})}TS.createRoot(document.getElementById("root")).render(nt.jsx(Le.StrictMode,{children:nt.jsx(XC,{})}));
